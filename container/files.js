export const files = {
  "public": {
    "directory": {
      "async-race.html": {
        "file": {
          "contents": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Async Race</title>\r\r\r\n  <script type=\"module\" crossorigin src=\"/assets/race-DVbshZhb.js\"></script>\n  <link rel=\"modulepreload\" crossorigin href=\"/assets/RacePageStandalone-D0Geyaav.js\">\n  <link rel=\"stylesheet\" crossorigin href=\"/assets/RacePageStandalone-CNJsnVDY.css\">\n</head>\r\n<body>\r\n  <main id=\"root\"></main>\r\r\n</body>\r\n</html>\r\n"
        }
      },
      "assets": {
        "directory": {
          "main-ClD-O8KD.css": {
            "file": {
              "contents": "/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author's permission):\n *   Fabrice Bellard's javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}*{box-sizing:border-box}._app-iframe_1amf5_9{min-height:20rem;height:100%;width:100%;border:none;background:#000}._server-code-wrapper_1amf5_25 ._server-code-editor_1amf5_27{width:100%;height:20rem;resize:none;background:#000;color:#adff2f;padding:.5rem 1rem;margin-bottom:10px;font-size:.9rem;line-height:1.2rem;font-family:Menlo,Cascadia Code,Consolas,Liberation Mono,monospace}._app-container_1amf5_55{flex-grow:1;display:grid;grid-template-columns:1fr 1fr;width:100%}._app-container_1amf5_55 ._race-app-container_1amf5_67{grid-column:span 2}._caption_1amf5_87{-webkit-text-fill-color:#0000;background-clip:text;-webkit-background-clip:text;background-image:linear-gradient(to right,#fb0094,#00f,#0f0,#ff0,red,#fb0094,#00f,#0f0,#ff0,red);filter:drop-shadow(0 1px 0 #fff);font-size:1.5em;line-height:1.1;font-weight:800;color:#69f5ff;text-decoration:underline}\n"
            }
          },
          "race-DVbshZhb.js": {
            "file": {
              "contents": "import{A as a,a as e,R as n}from\"./RacePageStandalone-D0Geyaav.js\";window.onload=()=>{window.parent.postMessage(a,\"*\")};const o=document.getElementById(\"root\");e(o);new n(o).draw();\n"
            }
          },
          "RacePageStandalone-CNJsnVDY.css": {
            "file": {
              "contents": "/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:dark;color:#ffffffde;background:#000;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*{box-sizing:border-box}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{display:flex;background:#000;height:100vh}#root{display:flex;width:100%}h1{font-size:2.2em;line-height:1.1}#app{width:100%;min-height:100vh;max-width:2400px;margin:0 auto;padding:.5rem;display:flex}#app .xterm .xterm-viewport{overflow-y:hidden}#app #web-container-main-page{height:100%;width:100%;display:flex;flex-direction:column}@media (prefers-color-scheme: dark){:root{color:#9acd32;background-color:#000}a:hover{color:#747bff}button{background-color:#f9f9f9}}._text-effect-wrapper_15y8k_5:before,._text-effect-wrapper_15y8k_5:after,._text_15y8k_5:before,._text_15y8k_5:after{content:\"\";position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}._text-effect-wrapper_15y8k_5{background:#000;--spotlight-color: white;overflow:hidden;position:relative}._text-effect-wrapper_15y8k_5:before{animation:_shimmer_15y8k_1 5s infinite linear;background:radial-gradient(circle,var(--spotlight-color),transparent 25%) 0 0 / 25% 25%,radial-gradient(circle,var(--spotlight-color),black 25%) 50% 50% / 12.5% 12.5%;inset-block-start:-100%;inset-inline-start:-100%;mix-blend-mode:color-dodge;z-index:3}._text-effect-wrapper_15y8k_5:after{-webkit-backdrop-filter:blur(1px) brightness(90%) contrast(150%);backdrop-filter:blur(1px) brightness(90%) contrast(150%);z-index:4}._text-effect-wrapper_15y8k_5 h1{--font-size: 3rem;-webkit-user-select:none;user-select:none;font:700 var(--font-size)/1 \"Lato\",sans-serif;text-transform:uppercase;text-align:center;margin:0}._text-effect-wrapper_15y8k_5 h1:empty,._text-effect-wrapper_15y8k_5 h1:focus{border:2px dotted white;min-width:1ch;outline-offset:5px}@keyframes _shimmer_15y8k_1{to{transform:translate3d(50%,50%,0)}}._text_15y8k_5{--background-color: black;--text-color: white;--color-1: red;--color-2: blue;color:transparent;text-shadow:0 0 .02em var(--background-color),0 0 .02em var(--text-color),0 0 .02em var(--text-color),0 0 .02em var(--text-color)}._text_15y8k_5:before{-webkit-backdrop-filter:blur(.013em) brightness(400%);backdrop-filter:blur(.013em) brightness(400%);z-index:1}._text_15y8k_5:after{background:linear-gradient(45deg,var(--color-1),var(--color-2));mix-blend-mode:multiply;z-index:2}._effect2_15y8k_197 ._text-effect-wrapper_15y8k_5{--spotlight-color: orange}._effect2_15y8k_197 ._text-effect-wrapper_15y8k_5:after{-webkit-backdrop-filter:brightness(90%) contrast(150%);backdrop-filter:brightness(90%) contrast(150%)}._effect2_15y8k_197 ._text_15y8k_5{--angle: 5deg;--color-1: hsl(163, 100%, 51%);--color-2: hsl(295, 88%, 32%);--color-3: hsl(59, 100%, 50%);text-shadow:0 0 .03em var(--background-color),0 0 .03em var(--text-color)}._effect2_15y8k_197 ._text_15y8k_5:before{-webkit-backdrop-filter:brightness(150%) contrast(200%);backdrop-filter:brightness(150%) contrast(200%)}._effect2_15y8k_197 ._text_15y8k_5:after{background:linear-gradient(var(--angle),var(--color-1),var(--color-2),var(--color-3));mix-blend-mode:color-dodge}._scene-container_19ild_1{display:flex;flex-direction:column;align-items:flex-start;height:100%}._scene-container_19ild_1 ._scene-toolbar_19ild_13{margin-bottom:5px;display:flex;gap:5px}._scene-container_19ild_1 ._scene-toolbar_19ild_13 button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background:#1a1a1a;cursor:pointer;transition:border-color .25s}._scene-container_19ild_1 ._scene-toolbar_19ild_13 button:hover{border-color:#646cff}._scene-container_19ild_1 ._scene-toolbar_19ild_13 button:focus,._scene-container_19ild_1 ._scene-toolbar_19ild_13 button:focus-visible{outline:4px auto -webkit-focus-ring-color}._scene-container_19ild_1 ._scene-canvas-container_19ild_65{overflow:hidden;display:flex;flex-direction:row;align-items:start;position:relative;width:100%;min-height:355px}._scene-container_19ild_1 ._scene-canvas-container_19ild_65 ._scene-cars-toolbar_19ild_83{display:flex;flex-direction:column;align-items:center;min-width:60px;min-height:300px;height:100%;padding-top:15px;padding-right:5px}._scene-container_19ild_1 ._scene-canvas-container_19ild_65 ._smoke-canvas_19ild_119{position:absolute;visibility:hidden;left:155px;top:0;width:100%;height:100%}._scene-container_19ild_1 ._scene-tip_19ild_141{display:flex;width:100%;padding:5px;justify-content:center;-webkit-user-select:none;user-select:none}._switch_6f5a9_3{background-color:#000;width:150px;height:195px;box-shadow:0 0 10px 2px #0003,0 0 1px 2px #000,inset 0 2px 2px -2px #fff,inset 0 0 2px 15px #47434c,inset 0 0 2px 22px #000;border-radius:5px;padding:20px;perspective:700px}._switch_6f5a9_3._small_6f5a9_21{width:50px;height:65px;padding:10px}._switch_6f5a9_3._small_6f5a9_21._switch_6f5a9_3 ._button_6f5a9_31{transform-origin:center center -12px}._switch_6f5a9_3._small_6f5a9_21._switch_6f5a9_3 ._button_6f5a9_31:before{height:27px}._switch_6f5a9_3._small_6f5a9_21._switch_6f5a9_3 ._button_6f5a9_31:after{height:27px;transform:translateY(27px) rotateX(-90deg)}._switch_6f5a9_3 input{display:none}._switch_6f5a9_3 input:checked+._button_6f5a9_31{transform:translateZ(20px) rotateX(25deg);box-shadow:0 -10px 20px #ff1818}._switch_6f5a9_3 input:checked+._button_6f5a9_31 ._light_6f5a9_73{animation:_flicker_6f5a9_1 .2s infinite .3s}._switch_6f5a9_3 input:checked+._button_6f5a9_31 ._shine_6f5a9_79{opacity:1}._switch_6f5a9_3 input:checked+._button_6f5a9_31 ._shadow_6f5a9_85{opacity:0}._switch_6f5a9_3 ._button_6f5a9_31{transition:all .3s cubic-bezier(1,0,1,1);transform-origin:center center -20px;transform:translateZ(20px) rotateX(-25deg);transform-style:preserve-3d;background-color:#9b0621;width:100%;height:100%;position:relative;cursor:pointer;background:linear-gradient(#980000,#6f0000 30%,#6f0000 70%,#980000);background-repeat:no-repeat}._switch_6f5a9_3 ._button_6f5a9_31:before{content:\"\";background:linear-gradient(#fffc 10%,#ffffff4d 30%,#650000 75%,#320000) 50% 50%/97% 97%,#b10000;background-repeat:no-repeat;width:100%;height:50px;transform-origin:top;transform:rotateX(-90deg);position:absolute;top:0}._switch_6f5a9_3 ._button_6f5a9_31:after{content:\"\";background-image:linear-gradient(#650000,#320000);width:100%;height:50px;transform-origin:top;transform:translateY(50px) rotateX(-90deg);position:absolute;bottom:0;box-shadow:0 50px 8px #000,0 80px 20px #00000080}._switch_6f5a9_3 ._light_6f5a9_73{opacity:0;animation:_light-off_6f5a9_1 1s;position:absolute;width:100%;height:100%;background-image:radial-gradient(#ffc97e,#ff1818 40%,transparent 70%)}._switch_6f5a9_3 ._dots_6f5a9_179{position:absolute;width:100%;height:100%;background-image:radial-gradient(transparent 30%,#650000b3 70%);background-size:10px 10px}._switch_6f5a9_3 ._characters_6f5a9_193{position:absolute;width:100%;height:100%;background:linear-gradient(#fff,#fff) 50% 20%/5% 20%,radial-gradient(circle,transparent 50%,white 52%,white 70%,transparent 72%) 50% 80%/33% 25%;background-repeat:no-repeat}._switch_6f5a9_3 ._shine_6f5a9_79{transition:all .3s cubic-bezier(1,0,1,1);opacity:.3;position:absolute;width:100%;height:100%;background:linear-gradient(white,transparent 3%) 50% 50%/97% 97%,linear-gradient(rgba(255,255,255,.5),transparent 50%,transparent 80%,rgba(255,255,255,.5)) 50% 50%/97% 97%;background-repeat:no-repeat}._switch_6f5a9_3 ._shadow_6f5a9_85{transition:all .3s cubic-bezier(1,0,1,1);opacity:1;position:absolute;width:100%;height:100%;background:linear-gradient(transparent 70%,#000c);background-repeat:no-repeat}@keyframes _flicker_6f5a9_1{0%{opacity:1}80%{opacity:.8}to{opacity:1}}@keyframes _light-off_6f5a9_1{0%{opacity:1}80%{opacity:0}}._race-page-container_1jwjd_23{width:100%;display:flex;flex-direction:column;gap:8px}\n"
            }
          },
          "RacePageStandalone-D0Geyaav.js": {
            "file": {
              "contents": "var Tt=Object.defineProperty;var xt=(r,e,t)=>e in r?Tt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var a=(r,e,t)=>(xt(r,typeof e!=\"symbol\"?e+\"\":e,t),t);(function(){const e=document.createElement(\"link\").relList;if(e&&e.supports&&e.supports(\"modulepreload\"))return;for(const s of document.querySelectorAll('link[rel=\"modulepreload\"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type===\"childList\")for(const o of n.addedNodes)o.tagName===\"LINK\"&&o.rel===\"modulepreload\"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin===\"use-credentials\"?n.credentials=\"include\":s.crossOrigin===\"anonymous\"?n.credentials=\"omit\":n.credentials=\"same-origin\",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();const ue=\"default\",Xe=new Map,De=new Map,Et=(r,e)=>{e?De.set(r,!0):De.delete(r)},ie=r=>r&&(r.scope===ue||De.get(r)===!0);class wt{constructor(e){a(this,\"loggerScope\");a(this,\"setEnabled\",e=>(Et(this,e),this));a(this,\"info\",(...e)=>{ie(this)&&console.info(`[[${this.loggerScope}]]\t`,...e)});a(this,\"warn\",(...e)=>{ie(this)&&console.warn(`[[${this.loggerScope}]]\t`,...e)});a(this,\"error\",(...e)=>{ie(this)&&console.error(`[[${this.loggerScope}]]\t`,...e)});this.loggerScope=e}get scope(){return this.loggerScope}get enabled(){return ie(this)}}const q=(r=ue)=>{const e=r||ue;let t=Xe.get(r);return t||(t=Object.freeze(new wt(e)),Xe.set(e,t)),t},Rt=q(ue);function Ct(r){return r==null}function j(r){return r!=null}function w(r,...e){if(r==null)throw new Error(`Nullish assertion Error: \"${String(r)}\"; ${e==null?void 0:e.join(\" \")}`)}function He(r,e){if(w(e,`#${String(r)}`),!(e instanceof r))throw new Error(`Not expected value: ${String(e)} of type: \"${String(r)}\"`)}function rt(r,e){return e instanceof r}function $e(r){return typeof r==\"string\"}const _t=(...r)=>{};function At(r,e,t){let i;return function(...s){const n=this;i&&clearTimeout(i),t&&!i&&r.apply(n,s),i=setTimeout(()=>{i=0,t||r.apply(n,s)},e)}}const se=(r,e)=>Math.floor(Math.random()*(e-r+1)+r),it=r=>new Promise((e,t)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=s=>{t(s)},i.src=r});class le{constructor(e=0,t=0,i){a(this,\"x\",0);a(this,\"y\",0);a(this,\"pointOwner\");this.pointOwner=i,this.x=e,this.y=t}static from(e,t){return new le(e.x,e.y,t)}get owner(){return this.pointOwner}moveX(e){return this.x=e,this}moveY(e){return this.y=e,this}move(e,t){return this.x=e,this.y=t,this}moveBy(e,t){return this.x+=e,this.y+=t,this}moveXBy(e){return this.x+=e,this}moveYBy(e){return this.x=this.y+e,this}scale({scaleX:e,scaleY:t}){return e&&(this.x*=e),t&&(this.y*=t),this}clone(e){return new le(this.x,this.y,e)}update(e){return this.x=e.x??this.x,this.y=e.y??this.y,this}}class V{constructor(e,t,i){a(this,\"width\",0);a(this,\"height\",0);a(this,\"dimensionOwner\");this.dimensionOwner=i,this.width=e,this.height=t}static isSize(e){return!!(e&&typeof e==\"object\"&&\"width\"in e&&typeof e.width==\"number\"&&e&&typeof e==\"object\"&&\"height\"in e&&typeof e.height==\"number\")}static from(e,t){return new V(e.width,e.height,t)}get owner(){return this.dimensionOwner}resizeWidthBy(e){return this.width+=e,this}resizeHeightBy(e){return this.height+=e,this}clone(){return new V(this.width,this.height,this.owner)}scaleBy(e,t){return this.width/=e,this.height/=t,this}scale({scaleX:e,scaleY:t}){return this.width*=e,this.height*=t,this}}class W{constructor(e=0,t=0,i=0,s=0,n){a(this,\"x\",0);a(this,\"y\",0);a(this,\"width\",0);a(this,\"height\",0);a(this,\"rectOwner\");this.rectOwner=n,this.x=e,this.y=t,this.width=i,this.height=s}static copyOf(e,t){return new W(e.x,e.y,e.width,e.height,t)}static from(e,t,i){return new W(e.x,e.y,t.width,t.height,i)}get owner(){return this.rectOwner}move(e,t){return this.x=e,this.y=t,this}resize(e,t){return this.width=e,this.height=t,this}scale({scaleX:e,scaleY:t}){return this.x*=e,this.width*=e,this.y*=t,this.height*=t,this}round(){return this.x=Math.round(this.x),this.width=Math.round(this.width),this.y=Math.round(this.y),this.height=Math.round(this.height),this}clone(e){return new W(this.x,this.y,this.width,this.height,e??this.owner)}update(e){const{widthBy:t=0,heightBy:i=0,xBy:s=0,yBy:n=0}=e??Object.create(null);return s&&(this.x+=s),n&&(this.y+=n),t&&(this.width+=t),i&&(this.height+=i),this}}const st=r=>new V(r.offsetWidth,r.offsetHeight,r),Dt=r=>new le(r.offsetLeft,r.offsetTop,r),Pt=r=>{const e=Dt(r),t=st(r);return new W(e.x,e.y,t.width,t.height,r)};function fe(r,e,t){return r+(e-r)*t}function Pe(r,e,t,i){const s=(i.x-t.x)*(r.y-t.y)-(i.y-t.y)*(r.x-t.x),n=(t.y-r.y)*(r.x-e.x)-(t.x-r.x)*(r.y-e.y),o=(i.y-t.y)*(e.x-r.x)-(i.x-t.x)*(e.y-r.y);if(o!==0){const h=s/o,c=n/o;if(h>=0&&h<=1&&c>=0&&c<=1)return{x:fe(r.x,e.x,h),y:fe(r.y,e.y,h),offset:h}}}function Ye(r,e){for(let t=0;t<r.length;t+=1)for(let i=0;i<e.length;i+=1)if(Pe(r[t],r[(t+1)%r.length],e[i],e[(i+1)%e.length]))return!0;return!1}function Lt(r,e){return{x:(r.x+e.x)/2,y:(r.y+e.y)/2}}const je=new WeakMap;class y{constructor(e,t){a(this,\"nodeElement\");a(this,\"resizeObserver\");const{className:i=\"\",text:s=\"\",id:n=void 0}=t??{};if(!$e(e)&&j(e)&&y.findComponentOf(e))throw new Error(`Component of ${String(e)} already exists`);const o=$e(e)?document.createElement(e):e;n&&(o.id=n),o.className=i,o.textContent=s,this.nodeElement=o,je.set(this.nodeElement,this)}static setStyles(e,t){Object.assign(e.style,{...t})}static findComponentOf(e){const t=je.get(e);if(j(t))return t}appendChild(e){return this.nodeElement.appendChild(e.nodeElement),e}appendChildren(e){return e.forEach(t=>{this.appendChild(t)}),this}get style(){return this.nodeElement.style}get element(){return this.nodeElement}getChildAt(e){return this.getChildren()[e]}getBounds(){return Pt(this.nodeElement)}getSize(){return st(this.nodeElement)}getChildren(e){const t=Array.from(this.nodeElement.childNodes).map(i=>y.findComponentOf(i)).filter(i=>j(i));return j(e)?t.filter(i=>rt(e,i)):t}get childrenCount(){return this.nodeElement.childNodes.length}setTextContent(e){return this.nodeElement.textContent=e,this}setAttribute(e,t){return this.nodeElement.setAttribute(e,t),this}setStyles(e){return y.setStyles(this.nodeElement,e),this}removeAttribute(e){this.nodeElement.removeAttribute(e)}toggleClass(e,t){return e&&this.nodeElement.classList.toggle(e,t),this}observe(e){return this.unobserve(),this.resizeObserver=new ResizeObserver(t=>e(t[0])),this.resizeObserver.observe(this.nodeElement),this}unobserve(){return j(this.resizeObserver)&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this}destroy(){this.unobserve(),this.destroyChildren(),this.nodeElement.remove()}destroyChildren(){this.getChildren().forEach(e=>{e.destroy()})}}class We extends y{constructor(e,t){super(e??\"canvas\",t)}static withUseCanvasContext2D(e){const t=e.element.getContext(\"2d\");return w(t,\"canvas.getContext('2d')\"),i=>{i({ctx:t,canvas:e.element})}}static drawFromImage(e,t,i,s){e.drawImage(t,s.x,s.y,s.width,s.height,0,0,i.width,i.height)}static applyShadow(e,t,i){e.shadowColor=t,e.strokeStyle=\"rgba(0,0,0,0.4)\";const s=3;i&&(e.shadowOffsetY=i);for(let n=0;n<s;n+=1)for(let o=0;o<s;o+=1)e.shadowBlur=s+1+n,e.lineWidth=.5,e.stroke()}get width(){return this.element.width}get height(){return this.element.height}setSize(...e){const[t,i]=e;return typeof t==\"number\"&&typeof i==\"number\"?(this.nodeElement.width=t,this.nodeElement.height=i):V.isSize(t)&&(this.nodeElement.width=t.width,this.nodeElement.height=t.height),this}}const Ot=\"_text-effect-wrapper_15y8k_5\",Bt=\"_text_15y8k_5\",It=\"_shimmer_15y8k_1\",Ft=\"_effect2_15y8k_197\",Ee={\"text-effect-wrapper\":\"_text-effect-wrapper_15y8k_5\",textEffectWrapper:Ot,text:Bt,shimmer:It,effect2:Ft};class Ut extends y{constructor(t){super(\"div\",t);a(this,\"textEffectWrapper\");a(this,\"header\");this.textEffectWrapper=this.appendChild(new y(\"div\").toggleClass(Ee.textEffectWrapper)),this.header=this.textEffectWrapper.appendChild(new y(\"h1\").toggleClass(Ee.text)),this.appendChild(this.textEffectWrapper)}setTextContent(t){return this.header.setTextContent(t),this}setAlternate(t){return this.toggleClass(Ee.effect2,t),this}}const Pi=\"ASYNC-RACE-STANDALONE::DID-LOAD\";class Mt{constructor(e){a(this,\"left\");a(this,\"right\");a(this,\"forward\");a(this,\"reverse\");switch(this.forward=!1,this.left=!1,this.right=!1,this.reverse=!1,e){case\"KEYS\":this.addKeyboardListeners();break;case\"SELF\":this.forward=!0;break}}get moveForward(){return this.forward}get moveReverse(){return this.reverse}get moveLeft(){return this.left}get moveRight(){return this.right}addKeyboardListeners(){document.onkeydown=e=>{switch(e.key){case\"ArrowLeft\":this.left=!0;break;case\"ArrowRight\":this.right=!0;break;case\"ArrowUp\":this.forward=!0;break;case\"ArrowDown\":this.reverse=!0;break}},document.onkeyup=e=>{switch(e.key){case\"ArrowLeft\":this.left=!1;break;case\"ArrowRight\":this.right=!1;break;case\"ArrowUp\":this.forward=!1;break;case\"ArrowDown\":this.reverse=!1;break}}}}function Nt(r,e,t){const i=[];for(let o=0;o<e.length;o++){const h=Pe(r[0],r[1],e[o][0],e[o][1]);h&&i.push(h)}for(let o=0;o<t.length;o++){const h=t[o].getPolygon();for(let c=0;c<h.length;c++){const u=Pe(r[0],r[1],h[c],h[(c+1)%h.length]);u&&i.push(u)}}if(i.length===0)return;const s=i.map(o=>o.offset),n=Math.min(...s);return i.find(o=>o.offset===n)}class kt{constructor(e){a(this,\"owner\");a(this,\"rayCount\");a(this,\"rayLength\");a(this,\"raySpread\");a(this,\"rays\");a(this,\"readings\");this.owner=e,this.rayCount=5,this.rayLength=150,this.raySpread=Math.PI/2,this.rays=[],this.readings=[]}update(e,t){this.castRays(),this.readings=[];for(let i=0;i<this.rays.length;i++)this.readings.push(Nt(this.rays[i],e,t))}draw(e){for(let t=0;t<this.rayCount;t++){let i=this.rays[t][1];if(this.readings[t]&&(i=this.readings[t]),!i)return;e.beginPath(),e.lineWidth=2,e.strokeStyle=\"yellow\",e.moveTo(this.rays[t][0].x,this.rays[t][0].y),e.lineTo(i.x,i.y),e.stroke(),e.beginPath(),e.lineWidth=2,e.strokeStyle=\"black\",e.moveTo(this.rays[t][1].x,this.rays[t][1].y),e.lineTo(i.x,i.y),e.stroke()}}castRays(){this.rays=[];for(let e=0;e<this.rayCount;e++){const t=fe(this.raySpread/2,-this.raySpread/2,this.rayCount===1?.5:e/(this.rayCount-1))+this.owner.angle,i={x:this.owner.x,y:this.owner.y},s={x:this.owner.x-Math.sin(t)*this.rayLength,y:this.owner.y-Math.cos(t)*this.rayLength};this.rays.push([i,s])}}}const zt=.056916355582932183;class Fe{constructor(e){a(this,\"bounds\");a(this,\"color\");a(this,\"name\");a(this,\"_speed\");a(this,\"acceleration\");a(this,\"maxSpeed\");a(this,\"friction\");a(this,\"carAngle\");a(this,\"damaged\");a(this,\"sensor\");a(this,\"controls\");a(this,\"polygon\");a(this,\"mask\");a(this,\"img\");a(this,\"passPath\",[]);a(this,\"getPassPath\",()=>this.passPath);var f,d;const{x:t,y:i,width:s,height:n,controlType:o,speed:h=0,color:c=\"yellow\",name:u=\"\",startAngle:l=0}=e;if(this.name=u,this.bounds=new W(t,i,s,n),this.color=c,(f=e.skin)!=null&&f.img)try{this.img=(d=e.skin)==null?void 0:d.img,this.mask=document.createElement(\"canvas\"),this.mask.width=s,this.mask.height=n;const g=this.mask.getContext(\"2d\");w(g),w(this.img),g.fillStyle=c,g.rect(0,0,this.width,this.height),g.fill(),g.globalCompositeOperation=\"destination-atop\",g.drawImage(this.img,0,0,this.width,this.height)}catch{}this._speed=0,this.acceleration=.2,this.maxSpeed=h,this.friction=.05,this.carAngle=l,this.damaged=!1,o!==\"SELF\"&&(this.sensor=new kt(this)),this.controls=new Mt(o),this.polygon=this.createPolygon()}setSpeed(e){return this.maxSpeed=e,this}get currentSpeed(){return Math.min(Math.abs(this._speed),this.maxSpeed)}setDamaged(e){return this.damaged=e,this}get isDamaged(){return this.damaged}getPolygon(){return this.polygon.concat()}get x(){return this.bounds.x}get y(){return this.bounds.y}get width(){return this.bounds.width}get height(){return this.bounds.height}get angle(){return this.carAngle}getBack(){return Lt(this.polygon[2],this.polygon[3])}update(e,t){if(!this.damaged){this.move(),this.polygon=this.createPolygon();const i=this.damaged;this.damaged=this.assessDamage(e,t),!i&&this.damaged}this.sensor&&this.sensor.update(e,t),this.currentSpeed>0&&(this.passPath.unshift(this.getBack()),this.passPath.length>5&&(this.passPath.length=5))}draw(e,t){if(this.mask&&this.img){this.drawSkin(e,t);return}this.damaged?e.fillStyle=\"gray\":e.fillStyle=this.color,e.beginPath(),e.moveTo(this.polygon[0].x,this.polygon[0].y);for(let i=1;i<this.polygon.length;i++)e.lineTo(this.polygon[i].x,this.polygon[i].y);e.fill(),this.sensor&&this.sensor.draw(e)}drawSkin(e,t){this.sensor&&(t!=null&&t.drawSensor)&&this.sensor.draw(e),e.save();try{w(this.mask),w(this.img),e.translate(this.x,this.y),e.rotate(-this.angle),(!this.damaged||!this.sensor)&&(e.drawImage(this.mask,-this.width/2,-this.height/2,this.width,this.height),e.globalCompositeOperation=\"multiply\"),e.drawImage(this.img,-this.width/2,-this.height/2,this.width,this.height)}catch{}finally{e.restore()}}assessDamage(e,t){for(let i=0;i<e.length;i+=1)if(Ye(this.polygon,e[i]))return!0;for(let i=0;i<t.length;i++)if(Ye(this.polygon,t[i].getPolygon()))return!0;return!1}createPolygon(){const e=[],{bounds:t}=this,i=Math.hypot(t.width,t.height)/2,s=Math.atan2(t.width,t.height);return e.push({x:t.x-Math.sin(this.carAngle-s)*i,y:t.y-Math.cos(this.carAngle-s)*i}),e.push({x:t.x-Math.sin(this.carAngle+s)*i,y:t.y-Math.cos(this.carAngle+s)*i}),e.push({x:t.x-Math.sin(Math.PI+this.carAngle-s)*i,y:t.y-Math.cos(Math.PI+this.carAngle-s)*i}),e.push({x:t.x-Math.sin(Math.PI+this.carAngle+s)*i,y:t.y-Math.cos(Math.PI+this.carAngle+s)*i}),e}move(){if(this.controls.moveForward&&(this._speed+=this.acceleration),this.controls.moveReverse&&(this._speed-=this.acceleration),this._speed>this.maxSpeed&&(this._speed=this.maxSpeed),this._speed<-this.maxSpeed/2&&(this._speed=-this.maxSpeed/2),this._speed>0&&(this._speed-=this.friction),this._speed<0&&(this._speed+=this.friction),Math.abs(this._speed)<this.friction&&(this._speed=0),this._speed!==0){const e=this._speed>0?1:-1;this.controls.moveLeft&&(this.carAngle+=.03*e),this.controls.moveRight&&(this.carAngle-=.03*e)}this.bounds.x-=Math.sin(this.carAngle)*this._speed,this.bounds.y-=Math.cos(this.carAngle)*this._speed}}class nt{constructor(e){a(this,\"height\");a(this,\"laneCount\");a(this,\"left\");a(this,\"right\");a(this,\"top\");a(this,\"bottom\");a(this,\"skin\");a(this,\"borders\");var l;const{y:t,height:i,laneCount:s=3}=e,n=1e6;this.height=i,this.laneCount=s,this.left=-n,this.right=n,this.top=t-i/2,this.bottom=t+i/2,this.skin=(l=e.skin)==null?void 0:l.img;const o={x:this.left,y:this.top},h={x:this.right,y:this.top},c={x:this.left,y:this.bottom},u={x:this.right,y:this.bottom};this.borders=[[o,h],[c,u]]}getLaneSize(){return this.height/this.laneCount}getLaneCenter(e){const t=this.getLaneSize();return this.top+t/2+Math.min(e,this.laneCount-1)*t}setFinishBorderPos(e){this.borders[2]=[{x:e,y:this.top},{x:e,y:this.bottom}]}draw(e){if(this.skin){const i=e.createPattern(this.skin,\"repeat\");i&&(e.fillStyle=i,e.fillRect(-2e3,this.top-10,this.right,this.bottom))}e.lineWidth=5,e.strokeStyle=\"white\";for(let i=1;i<=this.laneCount-1;i+=1){const s=fe(this.top,this.bottom,i/this.laneCount);e.setLineDash([20,20]),e.beginPath(),e.moveTo(this.left,s),e.lineTo(this.right,s),e.stroke()}e.setLineDash([]);const t=[];t.push(this.borders[0]),t.push(this.borders[1]),t.forEach(i=>{e.beginPath(),e.moveTo(i[0].x,i[0].y),e.lineTo(i[1].x,i[1].y),e.stroke()}),this.borders[2]&&(e.beginPath(),e.moveTo(this.borders[2][0].x,this.borders[2][0].y),e.lineTo(this.borders[2][1].x,this.borders[2][1].y),e.stroke())}}function Gt(r,e,t){const i=Math.floor(r*6),s=r*6-i,n=t*(1-e),o=t*(1-s*e),h=t*(1-(1-s)*e);switch(i%6){case 0:return{r:t,g:h,b:n};case 1:return{r:o,g:t,b:n};case 2:return{r:n,g:t,b:h};case 3:return{r:n,g:o,b:t};case 4:return{r:h,g:n,b:t};case 5:return{r:t,g:n,b:o};default:throw new Error(`HSVtoRGB::wrong input ${r},${e},${t}`)}}function Xt(){const r=Gt(Math.random(),1,1);return r.r*=.15,r.g*=.15,r.b*=.15,r}function ne(r){return{r:r.r/255,g:r.g/255,b:r.b/255}}const at=q(\"WebGL::Smoke\"),Ht=r=>{r.getExtension(\"EXT_color_buffer_float\");const e=r.getExtension(\"OES_texture_float_linear\"),t=r.HALF_FLOAT;return{supportLinearFiltering:e,halfFloatTexType:t}},$t=r=>{const e=r.getExtension(\"OES_texture_half_float\"),t=r.getExtension(\"OES_texture_half_float_linear\");w(e);const i=e.HALF_FLOAT_OES;return{supportLinearFiltering:t,halfFloatTexType:i}};function Yt(r,e,t,i){const s=r.createTexture();r.bindTexture(r.TEXTURE_2D,s),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,e,4,4,0,t,i,null);const n=r.createFramebuffer();return r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s,0),r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE}function G(r,e,t,i){if(rt(WebGL2RenderingContext,r)&&!Yt(r,e,t,i))switch(e){case r.R16F:return G(r,r.RG16F,r.RG,i);case r.RG16F:return G(r,r.RGBA16F,r.RGBA,i);default:return null}return{internalFormat:e,format:t}}function jt(r){const e={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let t=r.getContext(\"webgl2\",e);const i=!!t;if(i||(t=r.getContext(\"webgl\",e)||r.getContext(\"experimental-webgl\",e)),i){He(WebGL2RenderingContext,t);const{halfFloatTexType:u,supportLinearFiltering:l}=Ht(t),f=G(t,t.RGBA16F,t.RGBA,u),d=G(t,t.RG16F,t.RG,u),g=G(t,t.R16F,t.RED,u);return t.clearColor(0,0,0,1),{gl:t,ext:{formatRGBA:f,formatRG:d,formatR:g,halfFloatTexType:u,supportLinearFiltering:l}}}He(WebGLRenderingContext,t);const{halfFloatTexType:s,supportLinearFiltering:n}=$t(t),o=G(t,t.RGBA,t.RGBA,s),h=G(t,t.RGBA,t.RGBA,s),c=G(t,t.RGBA,t.RGBA,s);return t.clearColor(0,0,0,1),{gl:t,ext:{formatRGBA:o,formatRG:h,formatR:c,halfFloatTexType:s,supportLinearFiltering:n}}}function Wt(){return/Mobi|Android/i.test(navigator.userAgent)}function Vt(r,e){if(!e)return r;let t=\"\";return e.forEach(i=>{t+=`#define ${i}\n`}),t+r}function T(r,e,t,i){const s=r.createShader(e);return w(s),r.shaderSource(s,Vt(t,i)),r.compileShader(s),r.getShaderParameter(s,r.COMPILE_STATUS)||at.warn(\"getShaderParameter::COMPILE_STATUS\",r.getShaderInfoLog(s)),s}function ot(r,e){const t={},i=r.getProgramParameter(e,r.ACTIVE_UNIFORMS);for(let s=0;s<i;s++){const n=r.getActiveUniform(e,s);if(n){const o=n.name;t[o]=r.getUniformLocation(e,o)}}return t}function ht(r,e,t){const i=r.createProgram();return w(i),r.attachShader(i,e),r.attachShader(i,t),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||at.warn(\"program::LINK_STATUS\",r.getProgramInfoLog(i)),i}function Kt(r,e){const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT),r.texImage2D(r.TEXTURE_2D,0,r.RGB,1,1,0,r.RGB,r.UNSIGNED_BYTE,new Uint8Array([255,255,255]));const i={texture:t,width:1,height:1,attach(n){return r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,t),n}},s=new Image;return s.onload=()=>{i.width=s.width,i.height=s.height,r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,r.RGB,r.RGB,r.UNSIGNED_BYTE,s)},s.src=e,i}function qt(r,e,t){return{x:e/r.width,y:t/r.height}}function ae(r,e){let t=r.drawingBufferWidth/r.drawingBufferHeight;t<1&&(t=1/t);const i=Math.round(e),s=Math.round(e*t);return r.drawingBufferWidth>r.drawingBufferHeight?{width:s,height:i}:{width:i,height:s}}function U(r,e,t,i,s,n,o){r.activeTexture(r.TEXTURE0);const h=r.createTexture();r.bindTexture(r.TEXTURE_2D,h),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,i,e,t,0,s,n,null);const c=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,c),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h,0),r.viewport(0,0,e,t),r.clear(r.COLOR_BUFFER_BIT);const u=1/e,l=1/t;return{texture:h,fbo:c,width:e,height:t,texelSizeX:u,texelSizeY:l,attach(f){return r.activeTexture(r.TEXTURE0+f),r.bindTexture(r.TEXTURE_2D,h),f}}}function we(r,e,t,i,s,n,o){let h=U(r,e,t,i,s,n,o),c=U(r,e,t,i,s,n,o);return{width:e,height:t,texelSizeX:h.texelSizeX,texelSizeY:h.texelSizeY,get read(){return h},set read(u){h=u},get write(){return c},set write(u){c=u},swap(){const u=h;h=c,c=u}}}function Jt(r){if(r.length===0)return 0;let e=0;for(let t=0;t<r.length;t++)e=(e<<5)-e+r.charCodeAt(t),e|=0;return e}class Qt{constructor(e,t,i){a(this,\"programs\",[]);a(this,\"activeProgram\",null);a(this,\"uniforms\",{});this.gl=e,this.vertexShader=t,this.fragmentShaderSource=i}setKeywords(e){let t=0;for(let s=0;s<e.length;s++)t+=Jt(e[s]);let i=this.programs[t];if(i==null){const s=T(this.gl,this.gl.FRAGMENT_SHADER,this.fragmentShaderSource,e);i=ht(this.gl,this.vertexShader,s),this.programs[t]=i}i!==this.activeProgram&&(this.uniforms=ot(this.gl,i),this.activeProgram=i)}bind(){this.gl.useProgram(this.activeProgram)}}class x{constructor(e,t,i){a(this,\"gl\");a(this,\"program\");a(this,\"uniforms\");this.gl=e,this.uniforms={},this.program=ht(e,t,i),this.uniforms=ot(e,this.program)}bind(){this.gl.useProgram(this.program)}}const E=r=>T(r,WebGLRenderingContext.VERTEX_SHADER,`\n    precision highp float;\n\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform vec2 texelSize;\n\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        vL = vUv - vec2(texelSize.x, 0.0);\n        vR = vUv + vec2(texelSize.x, 0.0);\n        vT = vUv + vec2(0.0, texelSize.y);\n        vB = vUv - vec2(0.0, texelSize.y);\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`),Zt=r=>T(r,r.VERTEX_SHADER,`\n    precision highp float;\n\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform vec2 texelSize;\n\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        float offset = 1.33333333;\n        vL = vUv - texelSize * offset;\n        vR = vUv + texelSize * offset;\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`),er=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform sampler2D uTexture;\n\n    void main () {\n        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;\n        sum += texture2D(uTexture, vL) * 0.35294117;\n        sum += texture2D(uTexture, vR) * 0.35294117;\n        gl_FragColor = sum;\n    }\n`),tr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n\n    void main () {\n        gl_FragColor = texture2D(uTexture, vUv);\n    }\n`),rr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float value;\n\n    void main () {\n        gl_FragColor = value * texture2D(uTexture, vUv);\n    }\n`),ir=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n\n    uniform vec4 color;\n\n    void main () {\n        gl_FragColor = color;\n    }\n`),sr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float aspectRatio;\n\n    #define SCALE 25.0\n\n    void main () {\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n        float v = mod(uv.x + uv.y, 2.0);\n        v = v * 0.1 + 0.8;\n        gl_FragColor = vec4(vec3(v), 1.0);\n    }\n`),nr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform vec3 curve;\n    uniform float threshold;\n\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n        float br = max(c.r, max(c.g, c.b));\n        float rq = clamp(br - curve.x, 0.0, curve.y);\n        rq = curve.z * rq * rq;\n        c *= max(rq, br - threshold) / max(br, 0.0001);\n        gl_FragColor = vec4(c, 0.0);\n    }\n`),ar=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum;\n    }\n`),or=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform float intensity;\n\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum * intensity;\n    }\n`),hr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n\n    void main () {\n        vec4 c = texture2D(uTexture, vUv);\n        float br = max(c.r, max(c.g, c.b));\n        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);\n        gl_FragColor = c;\n    }\n`),cr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float weight;\n\n    #define ITERATIONS 16\n\n    void main () {\n        float Density = 0.3;\n        float Decay = 0.95;\n        float Exposure = 0.7;\n\n        vec2 coord = vUv;\n        vec2 dir = vUv - 0.5;\n\n        dir *= 1.0 / float(ITERATIONS) * Density;\n        float illuminationDecay = 1.0;\n\n        float color = texture2D(uTexture, vUv).a;\n\n        for (int i = 0; i < ITERATIONS; i++)\n        {\n            coord -= dir;\n            float col = texture2D(uTexture, coord).a;\n            color += col * illuminationDecay * weight;\n            illuminationDecay *= Decay;\n        }\n\n        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);\n    }\n`),ur=r=>T(r,r.FRAGMENT_SHADER,`\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTarget;\n    uniform float aspectRatio;\n    uniform vec3 color;\n    uniform vec2 point;\n    uniform float radius;\n\n    void main () {\n        vec2 p = vUv - point.xy;\n        p.x *= aspectRatio;\n        vec3 splat = exp(-dot(p, p) / radius) * color;\n        vec3 base = texture2D(uTarget, vUv).xyz;\n        gl_FragColor = vec4(base + splat, 1.0);\n    }\n`),lr=(r,e)=>T(r,r.FRAGMENT_SHADER,`\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uSource;\n    uniform vec2 texelSize;\n    uniform vec2 dyeTexelSize;\n    uniform float dt;\n    uniform float dissipation;\n\n    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n        vec2 st = uv / tsize - 0.5;\n\n        vec2 iuv = floor(st);\n        vec2 fuv = fract(st);\n\n        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n    }\n\n    void main () {\n    #ifdef MANUAL_FILTERING\n        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n        vec4 result = bilerp(uSource, coord, dyeTexelSize);\n    #else\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n        vec4 result = texture2D(uSource, coord);\n    #endif\n        float decay = 1.0 + dissipation * dt;\n        gl_FragColor = result / decay;\n    }`,e.supportLinearFiltering?null:[\"MANUAL_FILTERING\"]),fr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uVelocity, vL).x;\n        float R = texture2D(uVelocity, vR).x;\n        float T = texture2D(uVelocity, vT).y;\n        float B = texture2D(uVelocity, vB).y;\n\n        vec2 C = texture2D(uVelocity, vUv).xy;\n        if (vL.x < 0.0) { L = -C.x; }\n        if (vR.x > 1.0) { R = -C.x; }\n        if (vT.y > 1.0) { T = -C.y; }\n        if (vB.y < 0.0) { B = -C.y; }\n\n        float div = 0.5 * (R - L + T - B);\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n    }\n`),dr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uVelocity, vL).y;\n        float R = texture2D(uVelocity, vR).y;\n        float T = texture2D(uVelocity, vT).x;\n        float B = texture2D(uVelocity, vB).x;\n        float vorticity = R - L - T + B;\n        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n    }\n`),mr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uCurl;\n    uniform float curl;\n    uniform float dt;\n\n    void main () {\n        float L = texture2D(uCurl, vL).x;\n        float R = texture2D(uCurl, vR).x;\n        float T = texture2D(uCurl, vT).x;\n        float B = texture2D(uCurl, vB).x;\n        float C = texture2D(uCurl, vUv).x;\n\n        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n        force /= length(force) + 0.0001;\n        force *= curl * C;\n        force.y *= -1.0;\n\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity += force * dt;\n        velocity = min(max(velocity, -1000.0), 1000.0);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`),gr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uDivergence;\n\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        float C = texture2D(uPressure, vUv).x;\n        float divergence = texture2D(uDivergence, vUv).x;\n        float pressure = (L + R + B + T - divergence) * 0.25;\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n    }\n`),pr=r=>T(r,r.FRAGMENT_SHADER,`\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity.xy -= vec2(R - L, T - B);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`),vr=`\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform sampler2D uBloom;\n    uniform sampler2D uSunrays;\n    uniform sampler2D uDithering;\n    uniform vec2 ditherScale;\n    uniform vec2 texelSize;\n\n    vec3 linearToGamma (vec3 color) {\n        color = max(color, vec3(0));\n        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n    }\n\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n\n    #ifdef SHADING\n        vec3 lc = texture2D(uTexture, vL).rgb;\n        vec3 rc = texture2D(uTexture, vR).rgb;\n        vec3 tc = texture2D(uTexture, vT).rgb;\n        vec3 bc = texture2D(uTexture, vB).rgb;\n\n        float dx = length(rc) - length(lc);\n        float dy = length(tc) - length(bc);\n\n        vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n        vec3 l = vec3(0.0, 0.0, 1.0);\n\n        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n        c *= diffuse;\n    #endif\n\n    #ifdef BLOOM\n        vec3 bloom = texture2D(uBloom, vUv).rgb;\n    #endif\n\n    #ifdef SUNRAYS\n        float sunrays = texture2D(uSunrays, vUv).r;\n        c *= sunrays;\n    #ifdef BLOOM\n        bloom *= sunrays;\n    #endif\n    #endif\n\n    #ifdef BLOOM\n        float noise = texture2D(uDithering, vUv * ditherScale).r;\n        noise = noise * 2.0 - 1.0;\n        bloom += noise / 255.0;\n        bloom = linearToGamma(bloom);\n        c += bloom;\n    #endif\n\n        float a = max(c.r, max(c.g, c.b));\n        gl_FragColor = vec4(c, a);\n    }\n`,m={SIM_RESOLUTION:64,DYE_RESOLUTION:128,CAPTURE_RESOLUTION:512,DENSITY_DISSIPATION:1,VELOCITY_DISSIPATION:.2,PRESSURE:.8,PRESSURE_ITERATIONS:20,CURL:30,SPLAT_RADIUS:.1,SPLAT_FORCE:6e3,SHADING:!0,COLORFUL:!1,COLOR:{r:32,g:32,b:32},COLOR_UPDATE_SPEED:10,PAUSED:!1,BACK_COLOR:{r:0,g:0,b:0},TRANSPARENT:!1,BLOOM:!1,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:.8,BLOOM_THRESHOLD:.6,BLOOM_SOFT_KNEE:.7,SUNRAYS:!1,SUNRAYS_RESOLUTION:196,SUNRAYS_WEIGHT:1,INITIAL_SPLASH:!1};class yr{constructor(e){a(this,\"gl\");a(this,\"ext\");a(this,\"canvas\");a(this,\"pointers\",[]);a(this,\"splatStack\",[]);a(this,\"displayMaterial\");a(this,\"lastUpdateTime\",Date.now());a(this,\"colorUpdateTimer\",0);a(this,\"frameBuffers\");a(this,\"bloomBuffers\");a(this,\"sunRaysBuffers\");a(this,\"ditheringTexture\");a(this,\"blurProgram\");a(this,\"copyProgram\");a(this,\"sunraysMaskProgram\");a(this,\"bloomFinalProgram\");a(this,\"bloomPrefilterProgram\");a(this,\"bloomBlurProgram\");a(this,\"gradientSubtractProgram\");a(this,\"checkerboardProgram\");a(this,\"colorProgram\");a(this,\"clearProgram\");a(this,\"sunraysProgram\");a(this,\"splatProgram\");a(this,\"advectionProgram\");a(this,\"divergenceProgram\");a(this,\"curlProgram\");a(this,\"vorticityProgram\");a(this,\"pressureProgram\");a(this,\"blit\");a(this,\"findPointer\",e=>this.pointers.find(t=>t.id===e));a(this,\"addPointer\",e=>(this.pointers.push(e),e));a(this,\"update\",()=>{const e=this.calcDeltaTime();this.resizeCanvas()&&this.initFrameBuffers(),this.updateColors(e),this.applyInputs(),this.step(e),this.render(null)});this.canvas=e,this.resizeCanvas();const{gl:t,ext:i}=jt(e);this.gl=t,this.ext=i,t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),t.STATIC_DRAW),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(0),this.blit=(s,n=!1)=>{s?(t.viewport(0,0,s.width,s.height),t.bindFramebuffer(t.FRAMEBUFFER,s.fbo)):(t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.bindFramebuffer(t.FRAMEBUFFER,null)),n&&(t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)},Wt()&&(m.DYE_RESOLUTION=512),i.supportLinearFiltering||(m.DYE_RESOLUTION=512,m.SHADING=!1,m.BLOOM=!1,m.SUNRAYS=!1),this.displayMaterial=new Qt(t,E(t),vr),this.ditheringTexture=Kt(t,\"LDR_LLL1_0.png\"),this.blurProgram=new x(t,Zt(t),er(t)),this.copyProgram=new x(t,E(t),tr(t)),this.clearProgram=new x(t,E(t),rr(t)),this.colorProgram=new x(t,E(t),ir(t)),this.checkerboardProgram=new x(t,E(t),sr(t)),this.bloomPrefilterProgram=new x(t,E(t),nr(t)),this.bloomBlurProgram=new x(t,E(t),ar(t)),this.bloomFinalProgram=new x(t,E(t),or(t)),this.sunraysMaskProgram=new x(t,E(t),hr(t)),this.sunraysProgram=new x(t,E(t),cr(t)),this.splatProgram=new x(t,E(t),ur(t)),this.advectionProgram=new x(t,E(t),lr(t,this.ext)),this.divergenceProgram=new x(t,E(t),fr(t)),this.curlProgram=new x(t,E(t),dr(t)),this.vorticityProgram=new x(t,E(t),mr(t)),this.pressureProgram=new x(t,E(t),gr(t)),this.gradientSubtractProgram=new x(t,E(t),pr(t)),this.updateKeywords(),this.frameBuffers=this.initFrameBuffers(),this.bloomBuffers=this.initBloomFrameBuffers(),this.sunRaysBuffers=this.initSunRaysFrameBuffers(),this.initialize()}initialize(){this.update()}correctDeltaX(e){const t=this.canvas.width/this.canvas.height;return t<1?e*t:e}correctDeltaY(e){const t=this.canvas.width/this.canvas.height;return t>1?e/t:e}updatePointerMoveData(e,t,i,s){e.prevTexcoordX=e.texcoordX,e.prevTexcoordY=e.texcoordY,e.texcoordX=t/this.canvas.width,e.texcoordY=1-i/this.canvas.height,e.deltaX=this.correctDeltaX(e.texcoordX-e.prevTexcoordX),e.deltaY=this.correctDeltaY(e.texcoordY-e.prevTexcoordY),e.moved=Math.abs(e.deltaX)>0||Math.abs(e.deltaY)>0,s&&(e.color=ne(s))}updatePointerDownData(e,t,i,s,n){e.id=t,e.down=!0,e.moved=!1,e.texcoordX=i/this.canvas.width,e.texcoordY=1-s/this.canvas.height,e.prevTexcoordX=e.texcoordX,e.prevTexcoordY=e.texcoordY,e.deltaX=0,e.deltaY=0,n?e.color=ne(n):e.color=ne(m.COLOR)}updatePointerUpData(e){e.down=!1}updateColors(e){}updateKeywords(){const e=[];m.SHADING&&e.push(\"SHADING\"),m.BLOOM&&e.push(\"BLOOM\"),m.SUNRAYS&&e.push(\"SUNRAYS\"),this.displayMaterial.setKeywords(e)}calcDeltaTime(){const e=Date.now();let t=(e-this.lastUpdateTime)/1e3;return t=Math.min(t,.016666),this.lastUpdateTime=e,t}initFrameBuffers(){const{gl:e,ext:t,frameBuffers:{velocity:i,dye:s}={}}=this,n=ae(e,m.SIM_RESOLUTION),o=ae(e,m.DYE_RESOLUTION),h=t.halfFloatTexType,c=t.formatRGBA,u=t.formatRG,l=t.formatR;w(c),w(u),w(l);const f=t.supportLinearFiltering?e.LINEAR:e.NEAREST;e.disable(e.BLEND);const d={};return s?d.dye=this.resizeDoubleFBO(s,o.width,o.height,c.internalFormat,c.format,h,f):d.dye=we(e,o.width,o.height,c.internalFormat,c.format,h,f),i?d.velocity=this.resizeDoubleFBO(i,n.width,n.height,u.internalFormat,u.format,h,f):d.velocity=we(e,n.width,n.height,u.internalFormat,u.format,h,f),d.divergence=U(e,n.width,n.height,l.internalFormat,l.format,h,e.NEAREST),d.curl=U(e,n.width,n.height,l.internalFormat,l.format,h,e.NEAREST),d.pressure=we(e,n.width,n.height,l.internalFormat,l.format,h,e.NEAREST),this.frameBuffers?Object.assign(this.frameBuffers,d):this.frameBuffers={dye:d.dye,curl:d.curl,velocity:d.velocity,divergence:d.divergence,pressure:d.pressure},this.frameBuffers}resizeFBO(e,t,i,s,n,o,h){const c=U(this.gl,t,i,s,n,o,h);return this.copyProgram.bind(),this.gl.uniform1i(this.copyProgram.uniforms.uTexture,e.attach(0)),this.blit(c),c}resizeDoubleFBO(e,t,i,s,n,o,h){return e.width===t&&e.height===i||(e.read=this.resizeFBO(e.read,t,i,s,n,o,h),e.write=U(this.gl,t,i,s,n,o,h),e.width=t,e.height=i,e.texelSizeX=1/t,e.texelSizeY=1/i),e}step(e){const{gl:t,curlProgram:i,vorticityProgram:s,divergenceProgram:n,pressureProgram:o,clearProgram:h,gradientSubtractProgram:c,advectionProgram:u,frameBuffers:{velocity:l,dye:f,pressure:d,divergence:g,curl:S}}=this;t.disable(t.BLEND),i.bind(),t.uniform2f(i.uniforms.texelSize,l.texelSizeX,l.texelSizeY),t.uniform1i(i.uniforms.uVelocity,l.read.attach(0)),this.blit(S),s.bind(),t.uniform2f(s.uniforms.texelSize,l.texelSizeX,l.texelSizeY),t.uniform1i(s.uniforms.uVelocity,l.read.attach(0)),t.uniform1i(s.uniforms.uCurl,S.attach(1)),t.uniform1f(s.uniforms.curl,m.CURL),t.uniform1f(s.uniforms.dt,e),this.blit(l.write),l.swap(),n.bind(),t.uniform2f(n.uniforms.texelSize,l.texelSizeX,l.texelSizeY),t.uniform1i(n.uniforms.uVelocity,l.read.attach(0)),this.blit(g),h.bind(),t.uniform1i(h.uniforms.uTexture,d.read.attach(0)),t.uniform1f(h.uniforms.value,m.PRESSURE),this.blit(d.write),d.swap(),o.bind(),t.uniform2f(o.uniforms.texelSize,l.texelSizeX,l.texelSizeY),t.uniform1i(o.uniforms.uDivergence,g.attach(0));for(let L=0;L<m.PRESSURE_ITERATIONS;L++)t.uniform1i(o.uniforms.uPressure,d.read.attach(1)),this.blit(d.write),d.swap();c.bind(),t.uniform2f(c.uniforms.texelSize,l.texelSizeX,l.texelSizeY),t.uniform1i(c.uniforms.uPressure,d.read.attach(0)),t.uniform1i(c.uniforms.uVelocity,l.read.attach(1)),this.blit(l.write),l.swap(),u.bind(),t.uniform2f(u.uniforms.texelSize,l.texelSizeX,l.texelSizeY),this.ext.supportLinearFiltering||t.uniform2f(u.uniforms.dyeTexelSize,l.texelSizeX,l.texelSizeY);const B=l.read.attach(0);t.uniform1i(u.uniforms.uVelocity,B),t.uniform1i(u.uniforms.uSource,B),t.uniform1f(u.uniforms.dt,e),t.uniform1f(u.uniforms.dissipation,m.VELOCITY_DISSIPATION),this.blit(l.write),l.swap(),this.ext.supportLinearFiltering||t.uniform2f(u.uniforms.dyeTexelSize,f.texelSizeX,f.texelSizeY),t.uniform1i(u.uniforms.uVelocity,l.read.attach(0)),t.uniform1i(u.uniforms.uSource,f.read.attach(1)),t.uniform1f(u.uniforms.dissipation,m.DENSITY_DISSIPATION),this.blit(f.write),f.swap()}resizeCanvas(){const{canvas:e}=this,t=e.clientWidth,i=e.clientHeight;return e.width!==t||e.height!==i?(e.width=t,e.height=i,!0):!1}applyInputs(){if(this.splatStack.length>0){const e=this.splatStack.pop();Ct(e)||this.multipleSplats(e)}this.pointers.forEach(e=>{e.moved&&(e.moved=!1,this.splatPointer(e))})}render(e){const{gl:t,frameBuffers:{dye:i},bloomBuffers:{bloom:s},sunRaysBuffers:{sunrays:n,sunraysTemp:o}}=this;m.BLOOM&&this.applyBloom(i.read,s),m.SUNRAYS&&(this.applySunrays(i.read,i.write,n),this.blur(n,o,1)),!e||!m.TRANSPARENT?(t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.BLEND)):t.disable(t.BLEND),this.drawColor(e,ne(m.BACK_COLOR)),!e&&m.TRANSPARENT&&this.drawCheckerboard(e),this.drawDisplay(e)}drawDisplay(e){const{gl:t,displayMaterial:i,frameBuffers:{dye:s},bloomBuffers:{bloom:n},sunRaysBuffers:{sunrays:o},ditheringTexture:h}=this,c=e?e.width:t.drawingBufferWidth,u=e?e.height:t.drawingBufferHeight;if(i.bind(),m.SHADING&&t.uniform2f(i.uniforms.texelSize,1/c,1/u),t.uniform1i(i.uniforms.uTexture,s.read.attach(0)),m.BLOOM){t.uniform1i(i.uniforms.uBloom,n.attach(1)),t.uniform1i(i.uniforms.uDithering,h.attach(2));const l=qt(h,c,u);t.uniform2f(i.uniforms.ditherScale,l.x,l.y)}m.SUNRAYS&&t.uniform1i(i.uniforms.uSunrays,o.attach(3)),this.blit(e)}drawColor(e,t){const{gl:i,colorProgram:s}=this;this.colorProgram.bind(),i.uniform4f(s.uniforms.color,t.r,t.g,t.b,1),this.blit(e)}drawCheckerboard(e){const{gl:t,checkerboardProgram:i,canvas:s}=this;i.bind(),t.uniform1f(i.uniforms.aspectRatio,s.width/s.height),this.blit(e)}initBloomFrameBuffers(){const{gl:e,ext:t}=this,i=ae(e,m.BLOOM_RESOLUTION),s=t.halfFloatTexType,n=t.formatRGBA;w(n);const o=t.supportLinearFiltering?e.LINEAR:e.NEAREST,h=U(e,i.width,i.height,n.internalFormat,n.format,s,o);this.bloomBuffers&&(this.bloomBuffers.frameBuffers.length=0);const c=[];for(let u=0;u<m.BLOOM_ITERATIONS;u++){const l=i.width>>u+1,f=i.height>>u+1;if(l<2||f<2)break;const d=U(e,l,f,n.internalFormat,n.format,s,o);c.push(d)}return this.bloomBuffers={bloom:h,frameBuffers:c},this.bloomBuffers}initSunRaysFrameBuffers(){const{gl:e,ext:t}=this,i=ae(e,m.SUNRAYS_RESOLUTION),s=t.halfFloatTexType,n=t.formatR;w(n);const o=t.supportLinearFiltering?e.LINEAR:e.NEAREST;return this.sunRaysBuffers={sunrays:U(e,i.width,i.height,n.internalFormat,n.format,s,o),sunraysTemp:U(e,i.width,i.height,n.internalFormat,n.format,s,o)},this.sunRaysBuffers}applyBloom(e,t){const{gl:i,bloomBuffers:{frameBuffers:s},bloomPrefilterProgram:n,bloomBlurProgram:o,bloomFinalProgram:h}=this;if(s.length<2)return;let c=t;i.disable(i.BLEND),n.bind();const u=m.BLOOM_THRESHOLD*m.BLOOM_SOFT_KNEE+1e-4,l=m.BLOOM_THRESHOLD-u,f=u*2,d=.25/u;i.uniform3f(n.uniforms.curve,l,f,d),i.uniform1f(n.uniforms.threshold,m.BLOOM_THRESHOLD),i.uniform1i(n.uniforms.uTexture,e.attach(0)),this.blit(c),o.bind();for(let g=0;g<s.length;g++){const S=s[g];i.uniform2f(o.uniforms.texelSize,c.texelSizeX,c.texelSizeY),i.uniform1i(o.uniforms.uTexture,c.attach(0)),this.blit(S),c=S}i.blendFunc(i.ONE,i.ONE),i.enable(i.BLEND);for(let g=s.length-2;g>=0;g--){const S=s[g];i.uniform2f(o.uniforms.texelSize,c.texelSizeX,c.texelSizeY),i.uniform1i(o.uniforms.uTexture,c.attach(0)),i.viewport(0,0,S.width,S.height),this.blit(S),c=S}i.disable(i.BLEND),h.bind(),i.uniform2f(h.uniforms.texelSize,c.texelSizeX,c.texelSizeY),i.uniform1i(h.uniforms.uTexture,c.attach(0)),i.uniform1f(h.uniforms.intensity,m.BLOOM_INTENSITY),this.blit(t)}applySunrays(e,t,i){const{gl:s,sunraysMaskProgram:n,sunraysProgram:o}=this;s.disable(s.BLEND),n.bind(),s.uniform1i(n.uniforms.uTexture,e.attach(0)),this.blit(t),o.bind(),s.uniform1f(o.uniforms.weight,m.SUNRAYS_WEIGHT),s.uniform1i(o.uniforms.uTexture,t.attach(0)),this.blit(i)}blur(e,t,i){const{gl:s,blurProgram:n}=this;n.bind();for(let o=0;o<i;o++)s.uniform2f(n.uniforms.texelSize,e.texelSizeX,0),s.uniform1i(n.uniforms.uTexture,e.attach(0)),this.blit(t),s.uniform2f(n.uniforms.texelSize,0,e.texelSizeY),s.uniform1i(n.uniforms.uTexture,t.attach(0)),this.blit(e)}splatPointer(e){const t=e.deltaX*m.SPLAT_FORCE,i=e.deltaY*m.SPLAT_FORCE;this.splat(e.texcoordX,e.texcoordY,t,i,e.color)}multipleSplats(e){for(let t=0;t<e;t++){const i=Xt();i.r*=10,i.g*=10,i.b*=10;const s=Math.random(),n=Math.random(),o=1e3*(Math.random()-.5),h=1e3*(Math.random()-.5);this.splat(s,n,o,h,i)}}splat(e,t,i,s,n){const{gl:o,splatProgram:h,frameBuffers:{dye:c,velocity:u},canvas:l}=this;h.bind(),o.uniform1i(h.uniforms.uTarget,u.read.attach(0)),o.uniform1f(h.uniforms.aspectRatio,l.width/l.height),o.uniform2f(h.uniforms.point,e,t),o.uniform3f(h.uniforms.color,i,s,0),o.uniform1f(h.uniforms.radius,this.correctRadius(m.SPLAT_RADIUS/100)),this.blit(u.write),u.swap(),o.uniform1i(h.uniforms.uTarget,c.read.attach(0)),o.uniform3f(h.uniforms.color,n.r,n.g,n.b),this.blit(c.write),c.swap()}correctRadius(e){const t=this.canvas.width/this.canvas.height;return t>1?e*t:e}}class br{constructor(e){a(this,\"id\");a(this,\"texcoordX\",0);a(this,\"texcoordY\",0);a(this,\"prevTexcoordX\",0);a(this,\"prevTexcoordY\",0);a(this,\"deltaX\",0);a(this,\"deltaY\",0);a(this,\"down\",!1);a(this,\"moved\",!1);a(this,\"color\",{r:30,g:0,b:300});this.id=e??-1}}class Ve{constructor(e,t){this.effect=e,this.id=t}initialize(){return this}doEffect(e,t,i){let s=this.effect.findPointer(this.id);s||(s=this.effect.addPointer(new br(this.id))),s.down||this.effect.updatePointerDownData(s,this.id,e,t,i),this.effect.updatePointerMoveData(s,e,t,i)}}const Sr=\"_scene-canvas_cdgzf_1\",Tr={\"scene-canvas\":\"_scene-canvas_cdgzf_1\",sceneCanvas:Sr};var ct=(r=>(r.stateChange=\"stateChange\",r))(ct||{});class ye{constructor(){a(this,\"listeners\",{});a(this,\"on\",(e,t)=>{typeof e==\"string\"&&typeof t==\"function\"&&(this.listeners[e]=(this.listeners[e]??[]).concat(t))});a(this,\"off\",(e,t)=>{typeof e==\"string\"&&typeof t==\"function\"&&(this.listeners[e]=(this.listeners[e]??[]).filter(i=>i!==t))});a(this,\"emit\",(e,t)=>{(this.listeners[e]??[]).forEach(i=>{i(t)})});a(this,\"hasListener\",e=>!!this.listeners[e]);a(this,\"destroy\",()=>{this.listeners={}})}}class ut extends ye{constructor(t){super();a(this,\"logger\");a(this,\"name\");a(this,\"definition\");a(this,\"currentState\");const{name:i=\"\",definition:s}=t;this.name=i,t.debug&&(this.logger=t.logger),this.definition=s,this.currentState=s.initialState}get state(){return this.currentState}isInState(t){return this.currentState===t}setState(t){var s,n,o;const i=this.currentState;try{this.currentState=this.definition.getNextState(this.currentState,t),(s=this.logger)==null||s.info(`${this.name} state changed ${String(i)} -> ${String(this.currentState)}`)}catch(h){return(n=this.logger)==null||n.error(`${this.name}:setState(.. Error occurred on (${String(i)} -> ${String(t)})`,h),this}try{this.emit(ct.stateChange,{type:\"stateChange\",from:i,to:this.currentState})}catch(h){(o=this.logger)==null||o.error(`${this.name}: Error occurred on (${String(i)} -> ${String(this.currentState)}) event emit`,h)}return this}}const oe=(r,e)=>{const t=r&&typeof r==\"object\"&&\"state\"in r?r.state:r,i=e&&typeof e==\"object\"&&\"state\"in e?e.state:e;return t===i};class lt extends ye{constructor(t,i){super();a(this,\"logger\");a(this,\"name\");a(this,\"stateMachine\");a(this,\"onStateMachineChangeHandler\",({from:t,to:i})=>{this.emitTransitionListeners(\"stateLeave\",t,i),this.emitTransitionListeners(\"stateEnter\",t,i),this.emitTransitionListeners(\"stateTransition\",t,i),this.emitTransitionListeners(\"stateChange\",t,i)});const{name:s=\"\",debug:n=!1}=i??{};this.name=s,this.stateMachine=t,this.logger=q(this.constructor.name),n&&this.logger.setEnabled(!0),this.stateMachine.on(\"stateChange\",this.onStateMachineChangeHandler)}get state(){return this.stateMachine.state}onStateEnter(t,i){const s=n=>{oe(n.to,t)&&i(n)};return this.on(\"stateEnter\",s),()=>{this.off(\"stateEnter\",s)}}onStateLeave(t,i){const s=n=>{oe(n.from,t)&&i(n)};return this.on(\"stateLeave\",s),()=>{this.off(\"stateLeave\",s)}}onStateTransition(t,i,s){const n=o=>{oe(o.from,t)&&oe(o.to,i)&&s(o)};return this.on(\"stateTransition\",n),()=>{this.off(\"stateTransition\",n)}}onStateChange(t){return this.on(\"stateChange\",t),()=>{this.off(\"stateChange\",t)}}emitTransitionListeners(t,i,s){try{this.emit(t,{type:t,from:i,to:s})}catch(n){this.logger.error(`${this.name}: Error occurred in listener on ${String(i)} -> ${String(s)}`,n)}}}class J{constructor(e,t){a(this,\"stateName\");a(this,\"data\");a(this,\"toString\",()=>this.stateName);if(!e||!e.trim())throw Error(\"Expect to have non-empty state name.\");this.stateName=e,this.data=t}get state(){return this.stateName}}const Ke={init:[\"ready\"],ready:[\"drive\",\"error\"],drive:[\"init\",\"stopped\",\"finish\",\"error\"],stopped:[\"error\",\"ready\"],finish:[\"ready\"],error:[\"init\",\"ready\",\"stopped\"]},xr={initialState:new J(\"init\",void 0),getNextState:(r,e)=>{if(Ke[r.state]&&Ke[r.state].includes(e.state))return e;throw new Error(`Transition (${String(r)} -> ${String(e)}) is not configured`)}};class Ue extends ut{constructor(t){const{id:i,car:s,name:n,...o}=t;super({name:n,definition:xr,...o});a(this,\"car\");a(this,\"id\");a(this,\"stateClient\");a(this,\"getDriveStartData\",()=>{if(this.state.state===\"ready\"){const{velocity:t,distance:i}=this.state.data;return{carId:this.id,velocity:t,distance:i,time:i/t}}return{carId:this.id,velocity:NaN,distance:NaN,time:NaN}});this.stateClient=new lt(this,{name:`car${i}`}),this.id=i,this.car=s}}a(Ue,\"toPaintCar\",t=>t.car);const qe=(r,e)=>{let t=performance.now();const i=e??0;requestAnimationFrame(function s(n){n-t>=i&&(t=n,r()),requestAnimationFrame(s)})};class Er extends We{constructor(t){super(void 0,{id:\"race-canvas\"});a(this,\"smokeCanvas\");a(this,\"smoke\");a(this,\"smokeInput\",new WeakMap);this.smokeCanvas=t,this.smoke=new yr(this.smokeCanvas.element),this.toggleClass(Tr.sceneCanvas)}draw(t){const{smoke:i}=this;return this.smokeInput.set(t.getHeroCar(),new Ve(i,100).initialize()),t.cars().forEach(s=>this.smokeInput.set(s.car,new Ve(i,s.id).initialize())),We.withUseCanvasContext2D(this)(({ctx:s})=>{this.smokeCanvas.element.width=this.width,this.smokeCanvas.element.height=this.height,qe(()=>this.drawTrafficCanvas(s,t))}),qe(()=>{var o;const n=t.getHeroCar();if(n.isDamaged){const h=n.getBack();(o=this.smokeInput.get(n))==null||o.doEffect(se(h.x-2,h.x+2),se(h.y-2/2,h.y+2/2),{r:255,g:128,b:0})}t.cars().concat([]).filter(h=>h.state.state===\"error\").forEach(h=>{var u;const c=h.car.getBack();(u=this.smokeInput.get(h.car))==null||u.doEffect(se(c.x-2,c.x+2),se(c.y-2/2,c.y+2/2),{r:255,g:128,b:0})})},130),this}drawTrafficCanvas(t,i){this.smoke.update();const s=i.cars().map(Ue.toPaintCar),n=i.getRoad();i.cars().forEach(h=>{h.car.update(n.borders,[]),h.car.currentSpeed>0&&h.car.getPassPath().forEach(c=>{var u;(u=this.smokeInput.get(h.car))==null||u.doEffect(c.x,c.y,{r:32,g:32,b:32})})});const o=i.getHeroCar();o.update(n.borders,s),o.currentSpeed>0&&o.getPassPath().forEach(h=>{var c;(c=this.smokeInput.get(o))==null||c.doEffect(h.x,h.y,{r:32,g:32,b:32})}),t.clearRect(0,0,this.width,this.height),t.save(),n.draw(t);for(let h=0;h<s.length;h++)s[h].draw(t);o.draw(t),t.globalCompositeOperation=\"lighten\",t.drawImage(this.smokeCanvas.element,0,0,this.smokeCanvas.element.width,this.smokeCanvas.element.height),t.restore()}destroy(){super.destroy()}}const wr=\"_scene-container_19ild_1\",Rr=\"_scene-toolbar_19ild_13\",Cr=\"_scene-canvas-container_19ild_65\",_r=\"_scene-cars-toolbar_19ild_83\",Ar=\"_scene-canvas_19ild_65\",Dr=\"_smoke-canvas_19ild_119\",Pr=\"_scene-tip_19ild_141\",H={\"scene-container\":\"_scene-container_19ild_1\",sceneContainer:wr,\"scene-toolbar\":\"_scene-toolbar_19ild_13\",sceneToolbar:Rr,\"scene-canvas-container\":\"_scene-canvas-container_19ild_65\",sceneCanvasContainer:Cr,\"scene-cars-toolbar\":\"_scene-cars-toolbar_19ild_83\",sceneCarsToolbar:_r,\"scene-canvas\":\"_scene-canvas_19ild_65\",sceneCanvas:Ar,\"smoke-canvas\":\"_smoke-canvas_19ild_119\",smokeCanvas:Dr,\"scene-tip\":\"_scene-tip_19ild_141\",sceneTip:Pr},Lr=\"_small_6f5a9_21\",Or=\"_button_6f5a9_31\",Br=\"_light_6f5a9_73\",Ir=\"_flicker_6f5a9_1\",Fr=\"_shine_6f5a9_79\",Ur=\"_shadow_6f5a9_85\",Mr=\"_light-off_6f5a9_1\",Nr=\"_dots_6f5a9_179\",kr=\"_characters_6f5a9_193\",N={switch:\"_switch_6f5a9_3\",small:Lr,button:Or,light:Br,flicker:Ir,shine:Fr,shadow:Ur,\"light-off\":\"_light-off_6f5a9_1\",lightOff:Mr,dots:Nr,characters:kr};class zr extends y{constructor(t){super(\"label\",t);a(this,\"button\");a(this,\"input\");a(this,\"emitter\");a(this,\"setChecked\",t=>(this.input.element.checked=t,this));this.emitter=new ye,this.toggleClass(N.switch),this.input=this.appendChild(new y(\"input\").setAttribute(\"type\",\"checkbox\")),this.button=this.appendChild(new y(\"div\").toggleClass(N.button)),this.button.appendChildren([new y(\"div\").toggleClass(N.light),new y(\"div\").toggleClass(N.dots),new y(\"div\").toggleClass(N.characters),new y(\"div\").toggleClass(N.shine),new y(\"div\").toggleClass(N.shadow)]),this.input.element.addEventListener(\"click\",i=>{const s=i&&i.target&&\"checked\"in i.target?!!i.target.checked:!1;this.emitter.emit(\"onChange\",s)})}setVariant(t){return t===\"small\"&&this.toggleClass(N.small),this}emit(t,i){return this.emitter.emit(t,i)}off(t,i){return this.emitter.off(t,i)}on(t,i){return this.emitter.on(t,i)}}class Gr extends y{constructor(){super(\"div\");a(this,\"onCarActionCallback\")}draw(t){return this.destroyChildren(),t.cars().forEach(i=>{const s=this.appendChild(new zr().setVariant(\"small\"));s.on(\"onChange\",n=>{this.onCarActionCallback&&this.onCarActionCallback({car:i,action:n?\"start\":\"stop\"})}),i.stateClient.onStateEnter(\"drive\",n=>{s.setChecked(!0)}),i.stateClient.onStateLeave(\"drive\",n=>{s.setChecked(!1)})}),this}onAction(t){return this.onCarActionCallback=t,this}}const _=Symbol.for(\"@ts-pattern/matcher\"),ft=Symbol.for(\"@ts-pattern/isVariadic\"),de=\"@ts-pattern/anonymous-select-key\",Le=r=>!!(r&&typeof r==\"object\"),ce=r=>r&&!!r[_],R=(r,e,t)=>{if(ce(r)){const i=r[_](),{matched:s,selections:n}=i.match(e);return s&&n&&Object.keys(n).forEach(o=>t(o,n[o])),s}if(Le(r)){if(!Le(e))return!1;if(Array.isArray(r)){if(!Array.isArray(e))return!1;let i=[],s=[],n=[];for(const o of r.keys()){const h=r[o];ce(h)&&h[ft]?n.push(h):n.length?s.push(h):i.push(h)}if(n.length){if(n.length>1)throw new Error(\"Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.\");if(e.length<i.length+s.length)return!1;const o=e.slice(0,i.length),h=s.length===0?[]:e.slice(-s.length),c=e.slice(i.length,s.length===0?1/0:-s.length);return i.every((u,l)=>R(u,o[l],t))&&s.every((u,l)=>R(u,h[l],t))&&(n.length===0||R(n[0],c,t))}return r.length===e.length&&r.every((o,h)=>R(o,e[h],t))}return Object.keys(r).every(i=>{const s=r[i];return(i in e||ce(n=s)&&n[_]().matcherType===\"optional\")&&R(s,e[i],t);var n})}return Object.is(e,r)},P=r=>{var e,t,i;return Le(r)?ce(r)?(e=(t=(i=r[_]()).getSelectionKeys)==null?void 0:t.call(i))!=null?e:[]:Array.isArray(r)?Q(r,P):Q(Object.values(r),P):[]},Q=(r,e)=>r.reduce((t,i)=>t.concat(e(i)),[]);function Xr(...r){if(r.length===1){const[e]=r;return t=>R(e,t,()=>{})}if(r.length===2){const[e,t]=r;return R(e,t,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${r.length}.`)}function C(r){return Object.assign(r,{optional:()=>Me(r),and:e=>b(r,e),or:e=>dt(r,e),select:e=>e===void 0?Z(r):Z(e,r)})}function Oe(r){return Object.assign((e=>Object.assign(e,{[Symbol.iterator](){let t=0;const i=[{value:Object.assign(e,{[ft]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var s;return(s=i[t++])!=null?s:i.at(-1)}}}}))(r),{optional:()=>Oe(Me(r)),select:e=>Oe(e===void 0?Z(r):Z(e,r))})}function Me(r){return C({[_]:()=>({match:e=>{let t={};const i=(s,n)=>{t[s]=n};return e===void 0?(P(r).forEach(s=>i(s,void 0)),{matched:!0,selections:t}):{matched:R(r,e,i),selections:t}},getSelectionKeys:()=>P(r),matcherType:\"optional\"})})}const Hr=(r,e)=>{for(const t of r)if(!e(t))return!1;return!0},$r=(r,e)=>{for(const[t,i]of r.entries())if(!e(i,t))return!1;return!0};function b(...r){return C({[_]:()=>({match:e=>{let t={};const i=(s,n)=>{t[s]=n};return{matched:r.every(s=>R(s,e,i)),selections:t}},getSelectionKeys:()=>Q(r,P),matcherType:\"and\"})})}function dt(...r){return C({[_]:()=>({match:e=>{let t={};const i=(s,n)=>{t[s]=n};return Q(r,P).forEach(s=>i(s,void 0)),{matched:r.some(s=>R(s,e,i)),selections:t}},getSelectionKeys:()=>Q(r,P),matcherType:\"or\"})})}function p(r){return{[_]:()=>({match:e=>({matched:!!r(e)})})}}function Z(...r){const e=typeof r[0]==\"string\"?r[0]:void 0,t=r.length===2?r[1]:typeof r[0]==\"string\"?void 0:r[0];return C({[_]:()=>({match:i=>{let s={[e??de]:i};return{matched:t===void 0||R(t,i,(n,o)=>{s[n]=o}),selections:s}},getSelectionKeys:()=>[e??de].concat(t===void 0?[]:P(t))})})}function I(r){return typeof r==\"number\"}function $(r){return typeof r==\"string\"}function k(r){return typeof r==\"bigint\"}const mt=C(p(function(r){return!0})),Yr=mt,Y=r=>Object.assign(C(r),{startsWith:e=>{return Y(b(r,(t=e,p(i=>$(i)&&i.startsWith(t)))));var t},endsWith:e=>{return Y(b(r,(t=e,p(i=>$(i)&&i.endsWith(t)))));var t},minLength:e=>Y(b(r,(t=>p(i=>$(i)&&i.length>=t))(e))),maxLength:e=>Y(b(r,(t=>p(i=>$(i)&&i.length<=t))(e))),includes:e=>{return Y(b(r,(t=e,p(i=>$(i)&&i.includes(t)))));var t},regex:e=>{return Y(b(r,(t=e,p(i=>$(i)&&!!i.match(t)))));var t}}),jr=Y(p($)),F=r=>Object.assign(C(r),{between:(e,t)=>F(b(r,((i,s)=>p(n=>I(n)&&i<=n&&s>=n))(e,t))),lt:e=>F(b(r,(t=>p(i=>I(i)&&i<t))(e))),gt:e=>F(b(r,(t=>p(i=>I(i)&&i>t))(e))),lte:e=>F(b(r,(t=>p(i=>I(i)&&i<=t))(e))),gte:e=>F(b(r,(t=>p(i=>I(i)&&i>=t))(e))),int:()=>F(b(r,p(e=>I(e)&&Number.isInteger(e)))),finite:()=>F(b(r,p(e=>I(e)&&Number.isFinite(e)))),positive:()=>F(b(r,p(e=>I(e)&&e>0))),negative:()=>F(b(r,p(e=>I(e)&&e<0)))}),Wr=F(p(I)),z=r=>Object.assign(C(r),{between:(e,t)=>z(b(r,((i,s)=>p(n=>k(n)&&i<=n&&s>=n))(e,t))),lt:e=>z(b(r,(t=>p(i=>k(i)&&i<t))(e))),gt:e=>z(b(r,(t=>p(i=>k(i)&&i>t))(e))),lte:e=>z(b(r,(t=>p(i=>k(i)&&i<=t))(e))),gte:e=>z(b(r,(t=>p(i=>k(i)&&i>=t))(e))),positive:()=>z(b(r,p(e=>k(e)&&e>0))),negative:()=>z(b(r,p(e=>k(e)&&e<0)))}),Vr=z(p(k)),Kr=C(p(function(r){return typeof r==\"boolean\"})),qr=C(p(function(r){return typeof r==\"symbol\"})),Jr=C(p(function(r){return r==null}));var Je={__proto__:null,matcher:_,optional:Me,array:function(...r){return Oe({[_]:()=>({match:e=>{if(!Array.isArray(e))return{matched:!1};if(r.length===0)return{matched:!0};const t=r[0];let i={};if(e.length===0)return P(t).forEach(n=>{i[n]=[]}),{matched:!0,selections:i};const s=(n,o)=>{i[n]=(i[n]||[]).concat([o])};return{matched:e.every(n=>R(t,n,s)),selections:i}},getSelectionKeys:()=>r.length===0?[]:P(r[0])})})},set:function(...r){return C({[_]:()=>({match:e=>{if(!(e instanceof Set))return{matched:!1};let t={};if(e.size===0)return{matched:!0,selections:t};if(r.length===0)return{matched:!0};const i=(n,o)=>{t[n]=(t[n]||[]).concat([o])},s=r[0];return{matched:Hr(e,n=>R(s,n,i)),selections:t}},getSelectionKeys:()=>r.length===0?[]:P(r[0])})})},map:function(...r){return C({[_]:()=>({match:e=>{if(!(e instanceof Map))return{matched:!1};let t={};if(e.size===0)return{matched:!0,selections:t};const i=(h,c)=>{t[h]=(t[h]||[]).concat([c])};if(r.length===0)return{matched:!0};var s;if(r.length===1)throw new Error(`\\`P.map\\` wasn't given enough arguments. Expected (key, value), received ${(s=r[0])==null?void 0:s.toString()}`);const[n,o]=r;return{matched:$r(e,(h,c)=>{const u=R(n,c,i),l=R(o,h,i);return u&&l}),selections:t}},getSelectionKeys:()=>r.length===0?[]:[...P(r[0]),...P(r[1])]})})},intersection:b,union:dt,not:function(r){return C({[_]:()=>({match:e=>({matched:!R(r,e,()=>{})}),getSelectionKeys:()=>[],matcherType:\"not\"})})},when:p,select:Z,any:mt,_:Yr,string:jr,number:Wr,bigint:Vr,boolean:Kr,symbol:qr,nullish:Jr,instanceOf:function(r){return C(p(function(e){return t=>t instanceof e}(r)))},shape:function(r){return C(p(Xr(r)))}};const Be={matched:!1,value:void 0};function me(r){return new ge(r,Be)}class ge{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...e){if(this.state.matched)return this;const t=e[e.length-1],i=[e[0]];let s;e.length===3&&typeof e[1]==\"function\"?s=e[1]:e.length>2&&i.push(...e.slice(1,e.length-1));let n=!1,o={};const h=(u,l)=>{n=!0,o[u]=l},c=!i.some(u=>R(u,this.input,h))||s&&!s(this.input)?Be:{matched:!0,value:t(n?de in o?o[de]:o:this.input,this.input)};return new ge(this.input,c)}when(e,t){if(this.state.matched)return this;const i=!!e(this.input);return new ge(this.input,i?{matched:!0,value:t(this.input,this.input)}:Be)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;let e;try{e=JSON.stringify(this.input)}catch{e=this.input}throw new Error(`Pattern matching error: no pattern matches value ${e}`)}run(){return this.exhaustive()}returnType(){return this}}const Qe=r=>e=>{r.element.disabled=!e};class Qr extends y{constructor(){super(\"div\");a(this,\"startBtn\");a(this,\"resetBtn\");a(this,\"onActionCallback\");a(this,\"onButtonClickHandler\",t=>i=>{var s;(s=this.onActionCallback)==null||s.call(this,t)});this.toggleClass(H.sceneToolbar),this.startBtn=this.appendChild(new y(\"button\",{id:\"start-race-btn\"}).setTextContent(\"Start\")),this.resetBtn=this.appendChild(new y(\"button\",{id:\"reset-race-btn\"}).setTextContent(\"Reset\")),this.startBtn.element.addEventListener(\"click\",this.onButtonClickHandler(\"start\")),this.resetBtn.element.addEventListener(\"click\",this.onButtonClickHandler(\"reset\")),this.setEnabled({reset:!0,start:!1})}onAction(t){return this.onActionCallback=t,this}setEnabled(t){return Object.entries(t).forEach(i=>{me(Object.fromEntries([i])).with({start:Je.select()},Qe(this.startBtn)).with({reset:Je.select()},Qe(this.resetBtn)).run()}),this}}class Zr extends y{constructor(){super(\"div\");a(this,\"toolbar\");a(this,\"carsToolbar\");a(this,\"canvas\");a(this,\"smokeCanvas\");this.toggleClass(H.sceneContainer),this.smokeCanvas=new y(\"canvas\").toggleClass(H.smokeCanvas),this.canvas=new Er(this.smokeCanvas).toggleClass(H.sceneCanvas),this.toolbar=this.appendChild(new Qr),this.carsToolbar=new Gr().toggleClass(H.sceneCarsToolbar),this.appendChild(new y(\"div\").toggleClass(H.sceneCanvasContainer).appendChildren([this.carsToolbar,this.canvas,this.smokeCanvas])),this.appendChild(new y(\"div\").toggleClass(H.sceneTip).setTextContent(`Use the ${String.fromCodePoint(8592)}\n          ${String.fromCodePoint(8593)}\n          ${String.fromCodePoint(8594)}\n          ${String.fromCodePoint(8595)}\n          arrow keys to manage red  hero car          \n          `))}draw(t){return this.carsToolbar.draw(t),this.observe(At(i=>{this.canvas.setSize(i.contentRect.width,t.getRoad().height*1.1)},100)),this.canvas.draw(t),this}getCanvasSize(){return this.canvas.getSize()}}var Ze;(function(r){r.Left=\"Left\",r.Right=\"Right\"})(Ze||(Ze={}));function he(r){return typeof r.value==\"function\"}class v{static chain(e){return t=>t.asyncChain(e)}static mergeInOne(e){return e.reduce((t,i)=>t.chain(s=>i.map(n=>s.concat([n]))),v.right([]))}static mergeInMany(e){return e.reduce((t,i)=>t.isLeft()?i.isLeft()?v.left(t.value.concat([i.value])):t:i.isLeft()?v.left([i.value]):t.chain(s=>i.map(n=>[...s,n])),v.right([]))}static from(e){return v.right(e)}static fromPromise(e){return e.then(v.right).catch(t=>v.left(t))}static fromTry(e){try{return v.right(e())}catch(t){return v.left(t)}}static right(e){return new v(\"Right\",e)}static left(e){return new v(\"Left\",e)}constructor(e,t){this.type=e,this.value=t}isLeft(){return this.type===\"Left\"}isRight(){return this.type===\"Right\"}join(){return this.chain(e=>e)}mapRight(e){return this.map(e)}mapLeft(e){return this.isLeft()?v.left(e(this.value)):v.right(this.value)}map(e){return this.isLeft()?v.left(this.value):v.right(e(this.value))}asyncMap(e){return this.isLeft()?Promise.resolve(v.left(this.value)):e(this.value).then(t=>v.right(t))}apply(e){if(this.isLeft())return v.left(this.value);if(e.isLeft())return v.left(e.value);if(he(this))return e.map(this.value);if(he(e))return e.apply(this);throw new Error(\"Some of the arguments should be a function\")}asyncApply(e){if(this.isLeft())return Promise.resolve(v.left(this.value));if(e.isLeft())return Promise.resolve(v.left(e.value));if(he(this))return e.map(t=>Promise.resolve(t)).asyncMap(t=>t.then(this.value));if(he(e))return e.asyncApply(this);throw new Error(\"Some of the arguments should be a function\")}chain(e){return this.isLeft()?v.left(this.value):e(this.value)}asyncChain(e){return this.isLeft()?Promise.resolve(v.left(this.value)):e(this.value)}or(e){return this.isLeft()?e:this}unwrap(e=()=>new Error(\"Either state is Left\")){if(this.isRight())return this.value;throw e(this.value)}unwrapOr(e){return this.isRight()?this.value:e}unwrapOrElse(e){return this.isRight()?this.value:e(this.value)}fold(e,t){return this.isRight()?t(this.value):e(this.value)}get[Symbol.toStringTag](){return\"Either\"}}v.merge=v.mergeInOne;const{merge:Li,mergeInOne:Oi,mergeInMany:Bi,left:Ii,right:Fi,from:Ui,fromTry:Mi,fromPromise:be,chain:Ni}=v;var ei=class extends Error{constructor(e){super(e[0].message);a(this,\"issues\");this.name=\"ValiError\",this.issues=e}};function K(r,e){return Array.isArray(r)?[void 0,r]:[r,e]}var O;function ti(r){return{lang:(r==null?void 0:r.lang)??(O==null?void 0:O.lang),message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??(O==null?void 0:O.abortEarly),abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??(O==null?void 0:O.abortPipeEarly),skipPipe:(r==null?void 0:r.skipPipe)??(O==null?void 0:O.skipPipe)}}var Re;function ri(r){return Re==null?void 0:Re.get(r)}var Ce;function ii(r){return Ce==null?void 0:Ce.get(r)}var _e;function si(r,e){var t;return(t=_e==null?void 0:_e.get(r))==null?void 0:t.get(e)}function gt(r,e,t,i,s){const n=e.message??si(t,s.lang)??(r?ii(s.lang):null)??(i==null?void 0:i.message)??ri(s.lang)??s.message;return typeof n==\"function\"?n(s):n}function Ne(r,e,t){return{typed:r,output:e,issues:t}}function pt(r){let e=typeof r;return e===\"object\"&&(e=r?Object.getPrototypeOf(r).constructor.name:\"null\"),e===\"string\"?`\"${r}\"`:e===\"number\"||e===\"bigint\"||e===\"boolean\"?`${r}`:e}function ni(r,e,t){const i=t.received??pt(t.input),s={reason:r.type,context:t.context.type,expected:t.context.expects,received:i,message:`Invalid ${t.label}: ${t.context.expects?`Expected ${t.context.expects} but r`:\"R\"}eceived ${i}`,input:t.input,requirement:t.context.requirement,path:t.path,lang:e==null?void 0:e.lang,abortEarly:e==null?void 0:e.abortEarly,abortPipeEarly:e==null?void 0:e.abortPipeEarly,skipPipe:e==null?void 0:e.skipPipe};return s.message=gt(!1,t.context,t.reference,e,s),s}function ee(r,e,t,i){if(r.pipe&&!(t!=null&&t.skipPipe))for(const s of r.pipe){const n=s._parse(e);if(n.issues){for(const o of n.issues){const h=ni(r,t,o);i?i.push(h):i=[h]}if(t!=null&&t.abortEarly||t!=null&&t.abortPipeEarly)break}else e=n.output}return Ne(!0,e,i)}function ai(r,e,t){if(!r||typeof r==\"object\"&&!Array.isArray(r)){const[n,o]=K(e,t);return[r,n,o]}const[i,s]=K(r,e);return[void 0,i,s]}function te(r,e,t,i,s){const n=pt(t),o=(s==null?void 0:s.expected)??r.expects,h={reason:(s==null?void 0:s.reason)??\"type\",context:r.type,expected:o,received:n,message:`Invalid type: Expected ${o} but received ${n}`,input:t,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:i==null?void 0:i.lang,abortEarly:i==null?void 0:i.abortEarly,abortPipeEarly:i==null?void 0:i.abortPipeEarly,skipPipe:i==null?void 0:i.skipPipe};return h.message=gt(!0,r,e,i,h),{typed:!1,output:t,issues:[h]}}function vt(r,e,t){const[i,s]=K(e,t);return{type:\"array\",expects:\"Array\",async:!1,item:r,message:i,pipe:s,_parse(n,o){if(Array.isArray(n)){let h=!0,c;const u=[];for(let l=0;l<n.length;l++){const f=n[l],d=this.item._parse(f,o);if(d.issues){const g={type:\"array\",origin:\"value\",input:n,key:l,value:f};for(const S of d.issues)S.path?S.path.unshift(g):S.path=[g],c==null||c.push(S);if(c||(c=d.issues),o!=null&&o.abortEarly){h=!1;break}}d.typed||(h=!1),u.push(d.output)}return h?ee(this,u,o,c):Ne(!1,u,c)}return te(this,vt,n,o)}}}function yt(r,e){const[t,i]=K(r,e);return{type:\"boolean\",expects:\"boolean\",async:!1,message:t,pipe:i,_parse(s,n){return typeof s==\"boolean\"?ee(this,s,n):te(this,yt,s,n)}}}function pe(r,e){const[t,i]=K(r,e);return{type:\"number\",expects:\"number\",async:!1,message:t,pipe:i,_parse(s,n){return typeof s==\"number\"&&!isNaN(s)?ee(this,s,n):te(this,pe,s,n)}}}function Se(r,e,t,i){const[s,n,o]=ai(e,t,i);let h;return{type:\"object\",expects:\"Object\",async:!1,entries:r,rest:s,message:n,pipe:o,_parse(c,u){if(c&&typeof c==\"object\"){h=h??Object.entries(this.entries);let l=!0,f;const d={};for(const[g,S]of h){const B=c[g],L=S._parse(B,u);if(L.issues){const X={type:\"object\",origin:\"value\",input:c,key:g,value:B};for(const re of L.issues)re.path?re.path.unshift(X):re.path=[X],f==null||f.push(re);if(f||(f=L.issues),u!=null&&u.abortEarly){l=!1;break}}L.typed||(l=!1),(L.output!==void 0||g in c)&&(d[g]=L.output)}if(this.rest&&!(u!=null&&u.abortEarly&&f)){for(const g in c)if(!(g in this.entries)){const S=c[g],B=this.rest._parse(S,u);if(B.issues){const L={type:\"object\",origin:\"value\",input:c,key:g,value:S};for(const X of B.issues)X.path?X.path.unshift(L):X.path=[L],f==null||f.push(X);if(f||(f=B.issues),u!=null&&u.abortEarly){l=!1;break}}B.typed||(l=!1),d[g]=B.output}}return l?ee(this,d,u,f):Ne(!1,d,f)}return te(this,Se,c,u)}}}function Ie(r,e){const[t,i]=K(r,e);return{type:\"string\",expects:\"string\",async:!1,message:t,pipe:i,_parse(s,n){return typeof s==\"string\"?ee(this,s,n):te(this,Ie,s,n)}}}function Te(r,e,t){const i=r._parse(e,ti(t));if(i.issues)throw new ei(i.issues);return i.output}const oi=(r,e,t)=>{throw new class extends Error{constructor(n,o,h){super(n);a(this,\"carId\");a(this,\"status\");this.name=\"CarResponseError\",this.status=h,this.carId=o}}(e,r,t)},ke=r=>async e=>{if(!e.ok){const t=await e.text();oi(r,t,e.status)}return e.json()},hi=Se({id:pe(),name:Ie(),color:Ie()}),ci=vt(hi),bt=Se({velocity:pe(),distance:pe()}),ui=Se({success:yt()}),xe=\"http://localhost:3000\",St=\"https://raw.githubusercontent.com/JsPowWow/powwow-rss-async-race/main/public/\",ze=r=>e=>Object.assign(e,{carId:r}),li=async()=>be(fetch(`${xe}/garage`,{method:\"GET\"}).then(r=>r.json()).then(r=>Te(ci,r))),fi=async r=>be(fetch(`${xe}/engine?id=${r.id}&status=started`,{method:\"PATCH\"}).then(ke(r.id)).then(e=>Te(bt,e)).then(ze(r.id))),di=async r=>be(fetch(`${xe}/engine?id=${r.id}&status=stopped`,{method:\"PATCH\"}).then(ke(r.id)).then(e=>Te(bt,e)).then(ze(r.id))),mi=r=>async e=>{const t=new AbortController;return r&&r(t),be(fetch(`${xe}/engine?id=${e.id}&status=drive`,{method:\"PATCH\",signal:t.signal}).then(ke(e.id)).then(i=>Te(ui,i)).then(ze(e.id)))},et=async r=>it(`${St}/${r}.png`),gi=async()=>it(`${St}/roadtexture.jpg`),pi=r=>{const{laneCount:e,endPos:t,roadSize:i}=r;return new nt({...r,y:i/2,height:i*.9,laneCount:e,endPos:t})},vi=(r,e,{getTrafficCarParams:t,carSize:i})=>r.map((s,n)=>{const{id:o}=s,h=t(s),c=new Fe({name:n.toString(),...h,x:i.height/2+10,y:e.getLaneCenter(n),width:i.width,height:i.height,controlType:\"SELF\",speed:0,startAngle:-Math.PI/2});return new Ue({id:o,car:c,name:`car${o}`,debug:!0,logger:q(\"Car\").setEnabled(!0)})}),yi=(r,e)=>{const{getHeroCarParams:t,roadLineSize:i=75,roadFinishPos:s,getRoadParams:n}=e,o=r.length*i,h=pi({...n(),laneCount:r.length+1,endPos:s,roadSize:o}),c=new V(30,60),u=vi(r,h,{...e,carSize:c}),l=t({id:-1,color:\"blue\",name:\"Hero\"}),f=new Fe({name:\"Hero\",...l,x:c.height/2+20,y:h.getLaneCenter(u.length+1),width:c.width,height:c.height,controlType:\"KEYS\",speed:2.3,startAngle:-Math.PI/2});return{trafficCars:u,heroCar:f,road:h}};class bi{constructor(e,t){a(this,\"trafficCars\",[]);a(this,\"heroCar\");a(this,\"road\");const{trafficCars:i,heroCar:s,road:n}=yi(e,t);this.trafficCars=i,this.heroCar=s,this.road=n}cars(){return this.trafficCars.concat()}getHeroCar(){return this.heroCar}getRoad(){return this.road}destroy(){this.trafficCars=[],this.road=new nt({y:0,height:0,laneCount:0}),this.trafficCars.forEach(e=>e.destroy()),this.heroCar=new Fe({x:0,y:0,width:0,height:0,controlType:\"KEYS\"})}}const Ae=r=>e=>r.setState(new J(\"error\",e)),Si=r=>e=>r.setState(new J(\"ready\",e)),Ti=r=>e=>r.setState(new J(\"stopped\",e)),xi=r=>e=>r.setState(new J(\"finish\",e)),Ei=r=>r.setState(new J(\"drive\",void 0));class D{}a(D,\"startCarEngine\",async e=>fi(e).then(t=>t.fold(Ae(e),Si(e)))),a(D,\"stopCarEngine\",async e=>di(e).then(t=>t.fold(Ae(e),Ti(e)))),a(D,\"driveCar\",e=>async t=>Promise.resolve(t).then(Ei).then(mi(e)).then(i=>i.fold(Ae(t),xi(t)))),a(D,\"getLocalSpeed\",(e,t)=>e/(t.getDriveStartData().time*zt)),a(D,\"getDriveData\",e=>t=>{const{distance:i,time:s,velocity:n,...o}=t.getDriveStartData(),h=e*n/i;return{...o,distance:e,time:s,velocity:h}}),a(D,\"getVelocity\",e=>e.state.state===\"ready\"?e.state.data.velocity:0);var M=(r=>(r.initial=\"initial\",r.ready=\"ready\",r.error=\"error\",r.started=\"started\",r.finished=\"finished\",r))(M||{});const tt={initial:[\"ready\",\"error\"],finished:[\"started\",\"ready\"],ready:[\"started\",\"ready\"],started:[\"ready\",\"finished\"],error:[\"ready\"]};class wi extends ut{constructor(){super({name:\"raceState\",definition:{initialState:\"initial\",getNextState:(e,t)=>{if(tt[e]&&tt[e].includes(t))return t;throw new Error(`Transition (${String(e)} -> ${String(t)}) is not configured`)}},debug:!0,logger:q(\"raceState\").setEnabled(!0)})}}class Ri extends ye{constructor(t,i){super();a(this,\"toolbarStateClient\");a(this,\"raceToolbar\");a(this,\"carsToolbar\");a(this,\"onSceneToolbarAction\",t=>{this.emit(\"onSceneToolbarAction\",t)});a(this,\"onCarToolbarAction\",t=>{this.emit(\"onCarToolbarAction\",t)});this.carsToolbar=i.carsToolbar,this.raceToolbar=i.toolbar,this.raceToolbar.onAction(this.onSceneToolbarAction),this.carsToolbar.onAction(this.onCarToolbarAction),this.toolbarStateClient=new lt(t),this.raceToolbar.setEnabled({start:!1,reset:!1}),this.toolbarStateClient.on(\"stateEnter\",s=>{me(s.to).with(M.ready,()=>this.raceToolbar.setEnabled({start:!0,reset:!0})).with(M.error,()=>this.raceToolbar.setEnabled({start:!1,reset:!1})).with(M.started,()=>this.raceToolbar.setEnabled({start:!1,reset:!1})).with(M.finished,()=>this.raceToolbar.setEnabled({start:!1,reset:!0})).otherwise(_t)})}}let A;const Ge=class Ge{constructor(e){a(this,\"scene\");a(this,\"traffic\");a(this,\"raceState\");a(this,\"toolbarController\");a(this,\"trafficCarImg\");a(this,\"heroCarImg\");a(this,\"roadImg\");a(this,\"abortCarSignalsMap\",new WeakMap);a(this,\"initialize\",async()=>{this.trafficCarImg||(this.trafficCarImg=await et(\"car1\")),this.heroCarImg||(this.heroCarImg=await et(\"car3\")),this.roadImg||(this.roadImg=await gi()),await li().then(e=>{e.fold(t=>{this.raceState.setState(M.error),A.error(t)},t=>{this.raceState.setState(M.ready),this.buildScene(t)})}).catch(A.error)});a(this,\"startAll\",async()=>{w(this.traffic),this.raceState.setState(M.started);const e=this.scene.getCanvasSize().width;this.traffic.getRoad().setFinishBorderPos(e-100);const t=this.traffic.cars();await Promise.allSettled(t.map(D.startCarEngine)),t.forEach(i=>{i.car.setSpeed(D.getLocalSpeed(e,i))}),await Promise.allSettled(t.map(D.driveCar())),this.raceState.setState(M.finished)});a(this,\"setAbortSignal\",e=>t=>{this.abortCarSignalsMap.set(e,t)});a(this,\"startCar\",async e=>{w(this.traffic);const t=this.scene.getCanvasSize().width;this.traffic.getRoad().setFinishBorderPos(t-100),await D.startCarEngine(e),e.car.setSpeed(D.getLocalSpeed(t,e)),await D.driveCar(this.setAbortSignal(e))(e)});a(this,\"stopCar\",async e=>{var t;w(this.traffic),(t=this.abortCarSignalsMap.get(e))==null||t.abort(),await D.stopCarEngine(e),e.car.setSpeed(0)});a(this,\"getTrafficCarDefaultParams\",()=>({skin:{img:this.trafficCarImg}}));a(this,\"getHeroCarDefaultParams\",()=>({color:\"rgba(0,0,0,0)\",skin:{img:this.heroCarImg}}));a(this,\"getRoadDefaultParams\",()=>({skin:{img:this.roadImg}}));a(this,\"buildScene\",e=>{j(this.traffic)&&this.traffic.destroy();const t=new bi(e,{roadLineSize:90,getTrafficCarParams:i=>({color:i.color,...this.getTrafficCarDefaultParams()}),getHeroCarParams:this.getHeroCarDefaultParams,getRoadParams:this.getRoadDefaultParams});t.cars().forEach(i=>{i.stateClient.onStateEnter(\"ready\",s=>{if(s.to.state===\"ready\"){const{time:n}=i.getDriveStartData();A.info(`${i.id} is ready (time ${(n/1e3).toFixed(2)}s)`)}}),i.stateClient.onStateTransition(\"drive\",\"finish\",s=>{s.from.state===\"drive\"&&s.to.state===\"finish\"&&i.car.setSpeed(0)}),i.stateClient.onStateEnter(\"error\",s=>{s.to.state===\"error\"&&(i.car.setSpeed(0),i.car.setDamaged(!0),A.warn(i,\"is in error state\",{err:s.to.data}))})}),this.traffic=t,A.info(\"buildScene\",this.traffic),this.scene.draw(this.traffic)});a(this,\"onSceneToolbarAction\",e=>{A.info(\"toolbarAction\",`\"${e}\"`),me(e).with(\"reset\",t=>{this.initialize().catch(A.error)}).with(\"start\",t=>{this.startAll().catch(A.error)}).exhaustive()});a(this,\"onCarToolbarAction\",e=>{A.info(\"carToolbarAction\",`\"${e.action}\"`),me(e).with({action:\"start\"},t=>{this.startCar(t.car).catch(A.error)}).with({action:\"stop\"},t=>{this.stopCar(t.car).catch(A.error)}).exhaustive()});this.scene=e,this.raceState=new wi,this.toolbarController=new Ri(this.raceState,this.scene),this.toolbarController.on(\"onSceneToolbarAction\",this.onSceneToolbarAction),this.toolbarController.on(\"onCarToolbarAction\",this.onCarToolbarAction)}static get logger(){return A}};A=q(Ge.name);let ve=Ge;const Ci=\"_race-page-container_1jwjd_23\",_i={\"race-page-container\":\"_race-page-container_1jwjd_23\",racePageContainer:Ci},Ai={initialize:r=>{const{sceneController:e=!1}=r??{};ve.logger.setEnabled(e)}};class zi extends y{constructor(t){super(\"div\");a(this,\"scene\");this.toggleClass(_i.racePageContainer),this.scene=new Zr,t.append(this.element)}draw(){return this.appendChildren([new Ut().setTextContent(\"Async race\"),this.scene]),new ve(this.scene).initialize().catch(Rt.error),this}}Ai.initialize({sceneController:!0});export{Pi as A,y as C,zi as R,w as a,He as b,Rt as l,_t as n};\n"
            }
          }
        }
      }
    }
  },
  "index.js": {
    "file": {
      "contents": "const jsonServer = require('json-server');\r\n\r\nconst db = {\r\n  garage: [\r\n    {\r\n      name: 'Tesla',\r\n      color: '#e6e6fa',\r\n      id: 1,\r\n    },\r\n    {\r\n      name: 'BMW',\r\n      color: '#fede00',\r\n      id: 2,\r\n    },\r\n    {\r\n      name: 'Mersedes',\r\n      color: '#6c779f',\r\n      id: 3,\r\n    },\r\n    {\r\n      name: 'Ford',\r\n      color: '#ef3c40',\r\n      id: 4,\r\n    },\r\n  ],\r\n  winners: [\r\n    {\r\n      id: 1,\r\n      wins: 1,\r\n      time: 10,\r\n    },\r\n  ],\r\n};\r\n\r\nconst server = jsonServer.create();\r\nconst router = jsonServer.router(db);\r\nconst middlewares = jsonServer.defaults();\r\n\r\nconst PORT = 3000;\r\n\r\nconst state = { velocity: {}, blocked: {} };\r\n\r\n// server.use((req, res, next) => {\r\n//   console.log('Request Type:', req.method);\r\n//   next();\r\n// });\r\n\r\nserver.use(middlewares);\r\n\r\nserver.patch('/engine', (req, res) => {\r\n  const { id, status } = req.query;\r\n\r\n  if (!id || !status || !/^(started)|(stopped)|(drive)$/.test(status)) {\r\n    return res\r\n      .status(400)\r\n      .send('Wrong parameters: \"id\" should be any positive number, \"status\" should be \"started\", \"stopped\" or \"drive\"');\r\n  }\r\n\r\n  if (!db.garage.find((car) => car.id === +id)) {\r\n    return res.status(404).send('Car with such id was not found in the garage.');\r\n  }\r\n\r\n  const distance = 500000;\r\n  if (status === 'drive') {\r\n    const velocity = state.velocity[id];\r\n\r\n    if (!velocity) {\r\n      return res\r\n        .status(404)\r\n        .send(\r\n          'Engine parameters for car with such id was not found in the garage. Have you tried to set engine status to \"started\" before?',\r\n        );\r\n    }\r\n    if (state.blocked[id]) {\r\n      return res\r\n        .status(429)\r\n        .send(\"Drive already in progress. You can't run drive for the same car twice while it's not stopped.\");\r\n    }\r\n\r\n    state.blocked[id] = true;\r\n\r\n    const x = Math.round(distance / velocity);\r\n\r\n    if (new Date().getMilliseconds() % 3 === 0) {\r\n      setTimeout(\r\n        () => {\r\n          delete state.velocity[id];\r\n          delete state.blocked[id];\r\n          res\r\n            .header('Content-Type', 'application/json')\r\n            .status(500)\r\n            .send(\"Car has been stopped suddenly. It's engine was broken down.\");\r\n        },\r\n        (Math.random() * x) ^ 0,\r\n      );\r\n    } else {\r\n      setTimeout(() => {\r\n        delete state.velocity[id];\r\n        delete state.blocked[id];\r\n        res\r\n          .header('Content-Type', 'application/json')\r\n          .status(200)\r\n          .send(JSON.stringify({ success: true }));\r\n      }, x);\r\n    }\r\n  } else {\r\n    const x = req.query.speed ? +req.query.speed : (Math.random() * 2000) ^ 0;\r\n\r\n    const velocity = status === 'started' ? Math.max(50, (Math.random() * 200) ^ 0) : 0;\r\n\r\n    if (velocity) {\r\n      state.velocity[id] = velocity;\r\n    } else {\r\n      delete state.velocity[id];\r\n      delete state.blocked[id];\r\n    }\r\n\r\n    setTimeout(\r\n      () => res.header('Content-Type', 'application/json').status(200).send(JSON.stringify({ velocity, distance })),\r\n      x,\r\n    );\r\n  }\r\n});\r\n\r\nserver.use(router);\r\nserver.listen(PORT, () => {\r\n  console.log('Server is running on port', PORT);\r\n});\r\n"
    }
  },
  "package.json": {
    "file": {
      "contents": "{\r\n  \"name\": \"async-race-api\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Fun with promises\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"start\": \"node index.js\"\r\n  },\r\n  \"author\": \"mikhama\",\r\n  \"license\": \"MIT\",\r\n  \"devDependencies\": {\r\n    \"json-server\": \"^0.17.4\"\r\n  }\r\n}\r\n"
    }
  },
  "package-lock.json": {
    "file": {
      "contents": "{\r\n  \"name\": \"async-race-api\",\r\n  \"version\": \"1.0.0\",\r\n  \"lockfileVersion\": 3,\r\n  \"requires\": true,\r\n  \"packages\": {\r\n    \"\": {\r\n      \"name\": \"async-race-api\",\r\n      \"version\": \"1.0.0\",\r\n      \"license\": \"MIT\",\r\n      \"devDependencies\": {\r\n        \"json-server\": \"^0.17.4\"\r\n      }\r\n    },\r\n    \"node_modules/accepts\": {\r\n      \"version\": \"1.3.8\",\r\n      \"resolved\": \"https://registry.npmjs.org/accepts/-/accepts-1.3.8.tgz\",\r\n      \"integrity\": \"sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"mime-types\": \"~2.1.34\",\r\n        \"negotiator\": \"0.6.3\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/ansi-regex\": {\r\n      \"version\": \"5.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz\",\r\n      \"integrity\": \"sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=8\"\r\n      }\r\n    },\r\n    \"node_modules/ansi-styles\": {\r\n      \"version\": \"4.3.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz\",\r\n      \"integrity\": \"sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"color-convert\": \"^2.0.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=8\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/chalk/ansi-styles?sponsor=1\"\r\n      }\r\n    },\r\n    \"node_modules/array-flatten\": {\r\n      \"version\": \"1.1.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/array-flatten/-/array-flatten-1.1.1.tgz\",\r\n      \"integrity\": \"sha512-PCVAQswWemu6UdxsDFFX/+gVeYqKAod3D3UVm91jHwynguOwAvYPhx8nNlM++NqRcK6CxxpUafjmhIdKiHibqg==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/basic-auth\": {\r\n      \"version\": \"2.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/basic-auth/-/basic-auth-2.0.1.tgz\",\r\n      \"integrity\": \"sha512-NF+epuEdnUYVlGuhaxbbq+dvJttwLnGY+YixlXlME5KpQ5W3CnXA5cVTneY3SPbPDRkcjMbifrwmFYcClgOZeg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"safe-buffer\": \"5.1.2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/body-parser\": {\r\n      \"version\": \"1.20.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/body-parser/-/body-parser-1.20.2.tgz\",\r\n      \"integrity\": \"sha512-ml9pReCu3M61kGlqoTm2umSXTlRTuGTx0bfYj+uIUKKYycG5NtSbeetV3faSU6R7ajOPw0g/J1PvK4qNy7s5bA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"bytes\": \"3.1.2\",\r\n        \"content-type\": \"~1.0.5\",\r\n        \"debug\": \"2.6.9\",\r\n        \"depd\": \"2.0.0\",\r\n        \"destroy\": \"1.2.0\",\r\n        \"http-errors\": \"2.0.0\",\r\n        \"iconv-lite\": \"0.4.24\",\r\n        \"on-finished\": \"2.4.1\",\r\n        \"qs\": \"6.11.0\",\r\n        \"raw-body\": \"2.5.2\",\r\n        \"type-is\": \"~1.6.18\",\r\n        \"unpipe\": \"1.0.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\",\r\n        \"npm\": \"1.2.8000 || >= 1.4.16\"\r\n      }\r\n    },\r\n    \"node_modules/bytes\": {\r\n      \"version\": \"3.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/bytes/-/bytes-3.1.2.tgz\",\r\n      \"integrity\": \"sha512-/Nf7TyzTx6S3yRJObOAV7956r8cr2+Oj8AC5dt8wSP3BQAoeX58NoHyCU8P8zGkNXStjTSi6fzO6F0pBdcYbEg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/call-bind\": {\r\n      \"version\": \"1.0.7\",\r\n      \"resolved\": \"https://registry.npmjs.org/call-bind/-/call-bind-1.0.7.tgz\",\r\n      \"integrity\": \"sha512-GHTSNSYICQ7scH7sZ+M2rFopRoLh8t2bLSW6BbgrtLsahOIB5iyAVJf9GjWK3cYTDaMj4XdBpM1cA6pIS0Kv2w==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"es-define-property\": \"^1.0.0\",\r\n        \"es-errors\": \"^1.3.0\",\r\n        \"function-bind\": \"^1.1.2\",\r\n        \"get-intrinsic\": \"^1.2.4\",\r\n        \"set-function-length\": \"^1.2.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/chalk\": {\r\n      \"version\": \"4.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz\",\r\n      \"integrity\": \"sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"ansi-styles\": \"^4.1.0\",\r\n        \"supports-color\": \"^7.1.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=10\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/chalk/chalk?sponsor=1\"\r\n      }\r\n    },\r\n    \"node_modules/cliui\": {\r\n      \"version\": \"8.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz\",\r\n      \"integrity\": \"sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"string-width\": \"^4.2.0\",\r\n        \"strip-ansi\": \"^6.0.1\",\r\n        \"wrap-ansi\": \"^7.0.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=12\"\r\n      }\r\n    },\r\n    \"node_modules/color-convert\": {\r\n      \"version\": \"2.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz\",\r\n      \"integrity\": \"sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"color-name\": \"~1.1.4\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=7.0.0\"\r\n      }\r\n    },\r\n    \"node_modules/color-name\": {\r\n      \"version\": \"1.1.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz\",\r\n      \"integrity\": \"sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/compressible\": {\r\n      \"version\": \"2.0.18\",\r\n      \"resolved\": \"https://registry.npmjs.org/compressible/-/compressible-2.0.18.tgz\",\r\n      \"integrity\": \"sha512-AF3r7P5dWxL8MxyITRMlORQNaOA2IkAFaTr4k7BUumjPtRpGDTZpl0Pb1XCO6JeDCBdp126Cgs9sMxqSjgYyRg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"mime-db\": \">= 1.43.0 < 2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/compression\": {\r\n      \"version\": \"1.7.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/compression/-/compression-1.7.4.tgz\",\r\n      \"integrity\": \"sha512-jaSIDzP9pZVS4ZfQ+TzvtiWhdpFhE2RDHz8QJkpX9SIpLq88VueF5jJw6t+6CUQcAoA6t+x89MLrWAqpfDE8iQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"accepts\": \"~1.3.5\",\r\n        \"bytes\": \"3.0.0\",\r\n        \"compressible\": \"~2.0.16\",\r\n        \"debug\": \"2.6.9\",\r\n        \"on-headers\": \"~1.0.2\",\r\n        \"safe-buffer\": \"5.1.2\",\r\n        \"vary\": \"~1.1.2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8.0\"\r\n      }\r\n    },\r\n    \"node_modules/compression/node_modules/bytes\": {\r\n      \"version\": \"3.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/bytes/-/bytes-3.0.0.tgz\",\r\n      \"integrity\": \"sha512-pMhOfFDPiv9t5jjIXkHosWmkSyQbvsgEVNkz0ERHbuLh2T/7j4Mqqpz523Fe8MVY89KC6Sh/QfS2sM+SjgFDcw==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/connect-pause\": {\r\n      \"version\": \"0.1.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/connect-pause/-/connect-pause-0.1.1.tgz\",\r\n      \"integrity\": \"sha512-a1gSWQBQD73krFXdUEYJom2RTFrWUL3YvXDCRkyv//GVXc79cdW9MngtRuN9ih4FDKBtfJAJId+BbDuX+1rh2w==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \"*\"\r\n      }\r\n    },\r\n    \"node_modules/content-disposition\": {\r\n      \"version\": \"0.5.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/content-disposition/-/content-disposition-0.5.4.tgz\",\r\n      \"integrity\": \"sha512-FveZTNuGw04cxlAiWbzi6zTAL/lhehaWbTtgluJh4/E95DqMwTmha3KZN1aAWA8cFIhHzMZUvLevkw5Rqk+tSQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"safe-buffer\": \"5.2.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/content-disposition/node_modules/safe-buffer\": {\r\n      \"version\": \"5.2.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz\",\r\n      \"integrity\": \"sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==\",\r\n      \"dev\": true,\r\n      \"funding\": [\r\n        {\r\n          \"type\": \"github\",\r\n          \"url\": \"https://github.com/sponsors/feross\"\r\n        },\r\n        {\r\n          \"type\": \"patreon\",\r\n          \"url\": \"https://www.patreon.com/feross\"\r\n        },\r\n        {\r\n          \"type\": \"consulting\",\r\n          \"url\": \"https://feross.org/support\"\r\n        }\r\n      ]\r\n    },\r\n    \"node_modules/content-type\": {\r\n      \"version\": \"1.0.5\",\r\n      \"resolved\": \"https://registry.npmjs.org/content-type/-/content-type-1.0.5.tgz\",\r\n      \"integrity\": \"sha512-nTjqfcBFEipKdXCv4YDQWCfmcLZKm81ldF0pAopTvyrFGVbcR6P/VAAd5G7N+0tTr8QqiU0tFadD6FK4NtJwOA==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/cookie\": {\r\n      \"version\": \"0.6.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/cookie/-/cookie-0.6.0.tgz\",\r\n      \"integrity\": \"sha512-U71cyTamuh1CRNCfpGY6to28lxvNwPG4Guz/EVjgf3Jmzv0vlDp1atT9eS5dDjMYHucpHbWns6Lwf3BKz6svdw==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/cookie-signature\": {\r\n      \"version\": \"1.0.6\",\r\n      \"resolved\": \"https://registry.npmjs.org/cookie-signature/-/cookie-signature-1.0.6.tgz\",\r\n      \"integrity\": \"sha512-QADzlaHc8icV8I7vbaJXJwod9HWYp8uCqf1xa4OfNu1T7JVxQIrUgOWtHdNDtPiywmFbiS12VjotIXLrKM3orQ==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/cors\": {\r\n      \"version\": \"2.8.5\",\r\n      \"resolved\": \"https://registry.npmjs.org/cors/-/cors-2.8.5.tgz\",\r\n      \"integrity\": \"sha512-KIHbLJqu73RGr/hnbrO9uBeixNGuvSQjul/jdFvS/KFSIH1hWVd1ng7zOHx+YrEfInLG7q4n6GHQ9cDtxv/P6g==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"object-assign\": \"^4\",\r\n        \"vary\": \"^1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.10\"\r\n      }\r\n    },\r\n    \"node_modules/debug\": {\r\n      \"version\": \"2.6.9\",\r\n      \"resolved\": \"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz\",\r\n      \"integrity\": \"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"ms\": \"2.0.0\"\r\n      }\r\n    },\r\n    \"node_modules/define-data-property\": {\r\n      \"version\": \"1.1.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/define-data-property/-/define-data-property-1.1.4.tgz\",\r\n      \"integrity\": \"sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"es-define-property\": \"^1.0.0\",\r\n        \"es-errors\": \"^1.3.0\",\r\n        \"gopd\": \"^1.0.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/depd\": {\r\n      \"version\": \"2.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/depd/-/depd-2.0.0.tgz\",\r\n      \"integrity\": \"sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/destroy\": {\r\n      \"version\": \"1.2.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/destroy/-/destroy-1.2.0.tgz\",\r\n      \"integrity\": \"sha512-2sJGJTaXIIaR1w4iJSNoN0hnMY7Gpc/n8D4qSCJw8QqFWXf7cuAgnEHxBpweaVcPevC2l3KpjYCx3NypQQgaJg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\",\r\n        \"npm\": \"1.2.8000 || >= 1.4.16\"\r\n      }\r\n    },\r\n    \"node_modules/ee-first\": {\r\n      \"version\": \"1.1.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz\",\r\n      \"integrity\": \"sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/emoji-regex\": {\r\n      \"version\": \"8.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz\",\r\n      \"integrity\": \"sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/encodeurl\": {\r\n      \"version\": \"1.0.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz\",\r\n      \"integrity\": \"sha512-TPJXq8JqFaVYm2CWmPvnP2Iyo4ZSM7/QKcSmuMLDObfpH5fi7RUGmd/rTDf+rut/saiDiQEeVTNgAmJEdAOx0w==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/errorhandler\": {\r\n      \"version\": \"1.5.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/errorhandler/-/errorhandler-1.5.1.tgz\",\r\n      \"integrity\": \"sha512-rcOwbfvP1WTViVoUjcfZicVzjhjTuhSMntHh6mW3IrEiyE6mJyXvsToJUJGlGlw/2xU9P5whlWNGlIDVeCiT4A==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"accepts\": \"~1.3.7\",\r\n        \"escape-html\": \"~1.0.3\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/es-define-property\": {\r\n      \"version\": \"1.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.0.tgz\",\r\n      \"integrity\": \"sha512-jxayLKShrEqqzJ0eumQbVhTYQM27CfT1T35+gCgDFoL82JLsXqTJ76zv6A0YLOgEnLUMvLzsDsGIrl8NFpT2gQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"get-intrinsic\": \"^1.2.4\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      }\r\n    },\r\n    \"node_modules/es-errors\": {\r\n      \"version\": \"1.3.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz\",\r\n      \"integrity\": \"sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      }\r\n    },\r\n    \"node_modules/escalade\": {\r\n      \"version\": \"3.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/escalade/-/escalade-3.1.2.tgz\",\r\n      \"integrity\": \"sha512-ErCHMCae19vR8vQGe50xIsVomy19rg6gFu3+r3jkEO46suLMWBksvVyoGgQV+jOfl84ZSOSlmv6Gxa89PmTGmA==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=6\"\r\n      }\r\n    },\r\n    \"node_modules/escape-html\": {\r\n      \"version\": \"1.0.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz\",\r\n      \"integrity\": \"sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/etag\": {\r\n      \"version\": \"1.8.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/etag/-/etag-1.8.1.tgz\",\r\n      \"integrity\": \"sha512-aIL5Fx7mawVa300al2BnEE4iNvo1qETxLrPI/o05L7z6go7fCw1J6EQmbK4FmJ2AS7kgVF/KEZWufBfdClMcPg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/express\": {\r\n      \"version\": \"4.19.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/express/-/express-4.19.1.tgz\",\r\n      \"integrity\": \"sha512-K4w1/Bp7y8iSiVObmCrtq8Cs79XjJc/RU2YYkZQ7wpUu5ZyZ7MtPHkqoMz4pf+mgXfNvo2qft8D9OnrH2ABk9w==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"accepts\": \"~1.3.8\",\r\n        \"array-flatten\": \"1.1.1\",\r\n        \"body-parser\": \"1.20.2\",\r\n        \"content-disposition\": \"0.5.4\",\r\n        \"content-type\": \"~1.0.4\",\r\n        \"cookie\": \"0.6.0\",\r\n        \"cookie-signature\": \"1.0.6\",\r\n        \"debug\": \"2.6.9\",\r\n        \"depd\": \"2.0.0\",\r\n        \"encodeurl\": \"~1.0.2\",\r\n        \"escape-html\": \"~1.0.3\",\r\n        \"etag\": \"~1.8.1\",\r\n        \"finalhandler\": \"1.2.0\",\r\n        \"fresh\": \"0.5.2\",\r\n        \"http-errors\": \"2.0.0\",\r\n        \"merge-descriptors\": \"1.0.1\",\r\n        \"methods\": \"~1.1.2\",\r\n        \"on-finished\": \"2.4.1\",\r\n        \"parseurl\": \"~1.3.3\",\r\n        \"path-to-regexp\": \"0.1.7\",\r\n        \"proxy-addr\": \"~2.0.7\",\r\n        \"qs\": \"6.11.0\",\r\n        \"range-parser\": \"~1.2.1\",\r\n        \"safe-buffer\": \"5.2.1\",\r\n        \"send\": \"0.18.0\",\r\n        \"serve-static\": \"1.15.0\",\r\n        \"setprototypeof\": \"1.2.0\",\r\n        \"statuses\": \"2.0.1\",\r\n        \"type-is\": \"~1.6.18\",\r\n        \"utils-merge\": \"1.0.1\",\r\n        \"vary\": \"~1.1.2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.10.0\"\r\n      }\r\n    },\r\n    \"node_modules/express-urlrewrite\": {\r\n      \"version\": \"1.4.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/express-urlrewrite/-/express-urlrewrite-1.4.0.tgz\",\r\n      \"integrity\": \"sha512-PI5h8JuzoweS26vFizwQl6UTF25CAHSggNv0J25Dn/IKZscJHWZzPrI5z2Y2jgOzIaw2qh8l6+/jUcig23Z2SA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"debug\": \"*\",\r\n        \"path-to-regexp\": \"^1.0.3\"\r\n      }\r\n    },\r\n    \"node_modules/express-urlrewrite/node_modules/path-to-regexp\": {\r\n      \"version\": \"1.8.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-1.8.0.tgz\",\r\n      \"integrity\": \"sha512-n43JRhlUKUAlibEJhPeir1ncUID16QnEjNpwzNdO3Lm4ywrBpBZ5oLD0I6br9evr1Y9JTqwRtAh7JLoOzAQdVA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"isarray\": \"0.0.1\"\r\n      }\r\n    },\r\n    \"node_modules/express/node_modules/safe-buffer\": {\r\n      \"version\": \"5.2.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz\",\r\n      \"integrity\": \"sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==\",\r\n      \"dev\": true,\r\n      \"funding\": [\r\n        {\r\n          \"type\": \"github\",\r\n          \"url\": \"https://github.com/sponsors/feross\"\r\n        },\r\n        {\r\n          \"type\": \"patreon\",\r\n          \"url\": \"https://www.patreon.com/feross\"\r\n        },\r\n        {\r\n          \"type\": \"consulting\",\r\n          \"url\": \"https://feross.org/support\"\r\n        }\r\n      ]\r\n    },\r\n    \"node_modules/finalhandler\": {\r\n      \"version\": \"1.2.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/finalhandler/-/finalhandler-1.2.0.tgz\",\r\n      \"integrity\": \"sha512-5uXcUVftlQMFnWC9qu/svkWv3GTd2PfUhK/3PLkYNAe7FbqJMt3515HaxE6eRL74GdsriiwujiawdaB1BpEISg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"debug\": \"2.6.9\",\r\n        \"encodeurl\": \"~1.0.2\",\r\n        \"escape-html\": \"~1.0.3\",\r\n        \"on-finished\": \"2.4.1\",\r\n        \"parseurl\": \"~1.3.3\",\r\n        \"statuses\": \"2.0.1\",\r\n        \"unpipe\": \"~1.0.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/forwarded\": {\r\n      \"version\": \"0.2.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/forwarded/-/forwarded-0.2.0.tgz\",\r\n      \"integrity\": \"sha512-buRG0fpBtRHSTCOASe6hD258tEubFoRLb4ZNA6NxMVHNw2gOcwHo9wyablzMzOA5z9xA9L1KNjk/Nt6MT9aYow==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/fresh\": {\r\n      \"version\": \"0.5.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/fresh/-/fresh-0.5.2.tgz\",\r\n      \"integrity\": \"sha512-zJ2mQYM18rEFOudeV4GShTGIQ7RbzA7ozbU9I/XBpm7kqgMywgmylMwXHxZJmkVoYkna9d2pVXVXPdYTP9ej8Q==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/function-bind\": {\r\n      \"version\": \"1.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz\",\r\n      \"integrity\": \"sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==\",\r\n      \"dev\": true,\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/get-caller-file\": {\r\n      \"version\": \"2.0.5\",\r\n      \"resolved\": \"https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz\",\r\n      \"integrity\": \"sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \"6.* || 8.* || >= 10.*\"\r\n      }\r\n    },\r\n    \"node_modules/get-intrinsic\": {\r\n      \"version\": \"1.2.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.2.4.tgz\",\r\n      \"integrity\": \"sha512-5uYhsJH8VJBTv7oslg4BznJYhDoRI6waYCxMmCdnTrcCrHA/fCFKoTFz2JKKE0HdDFUF7/oQuhzumXJK7paBRQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"es-errors\": \"^1.3.0\",\r\n        \"function-bind\": \"^1.1.2\",\r\n        \"has-proto\": \"^1.0.1\",\r\n        \"has-symbols\": \"^1.0.3\",\r\n        \"hasown\": \"^2.0.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/gopd\": {\r\n      \"version\": \"1.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/gopd/-/gopd-1.0.1.tgz\",\r\n      \"integrity\": \"sha512-d65bNlIadxvpb/A2abVdlqKqV563juRnZ1Wtk6s1sIR8uNsXR70xqIzVqxVf1eTqDunwT2MkczEeaezCKTZhwA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"get-intrinsic\": \"^1.1.3\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/graceful-fs\": {\r\n      \"version\": \"4.2.11\",\r\n      \"resolved\": \"https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz\",\r\n      \"integrity\": \"sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/has-flag\": {\r\n      \"version\": \"4.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz\",\r\n      \"integrity\": \"sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=8\"\r\n      }\r\n    },\r\n    \"node_modules/has-property-descriptors\": {\r\n      \"version\": \"1.0.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz\",\r\n      \"integrity\": \"sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"es-define-property\": \"^1.0.0\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/has-proto\": {\r\n      \"version\": \"1.0.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/has-proto/-/has-proto-1.0.3.tgz\",\r\n      \"integrity\": \"sha512-SJ1amZAJUiZS+PhsVLf5tGydlaVB8EdFpaSO4gmiUKUOxk8qzn5AIy4ZeJUmh22znIdk/uMAUT2pl3FxzVUH+Q==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/has-symbols\": {\r\n      \"version\": \"1.0.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/has-symbols/-/has-symbols-1.0.3.tgz\",\r\n      \"integrity\": \"sha512-l3LCuF6MgDNwTDKkdYGEihYjt5pRPbEg46rtlmnSPlUbgmB8LOIrKJbYYFBSbnPaJexMKtiPO8hmeRjRz2Td+A==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/hasown\": {\r\n      \"version\": \"2.0.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz\",\r\n      \"integrity\": \"sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"function-bind\": \"^1.1.2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      }\r\n    },\r\n    \"node_modules/http-errors\": {\r\n      \"version\": \"2.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/http-errors/-/http-errors-2.0.0.tgz\",\r\n      \"integrity\": \"sha512-FtwrG/euBzaEjYeRqOgly7G0qviiXoJWnvEH2Z1plBdXgbyjv34pHTSb9zoeHMyDy33+DWy5Wt9Wo+TURtOYSQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"depd\": \"2.0.0\",\r\n        \"inherits\": \"2.0.4\",\r\n        \"setprototypeof\": \"1.2.0\",\r\n        \"statuses\": \"2.0.1\",\r\n        \"toidentifier\": \"1.0.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/iconv-lite\": {\r\n      \"version\": \"0.4.24\",\r\n      \"resolved\": \"https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.4.24.tgz\",\r\n      \"integrity\": \"sha512-v3MXnZAcvnywkTUEZomIActle7RXXeedOR31wwl7VlyoXO4Qi9arvSenNQWne1TcRwhCL1HwLI21bEqdpj8/rA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"safer-buffer\": \">= 2.1.2 < 3\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=0.10.0\"\r\n      }\r\n    },\r\n    \"node_modules/inherits\": {\r\n      \"version\": \"2.0.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz\",\r\n      \"integrity\": \"sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/ipaddr.js\": {\r\n      \"version\": \"1.9.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/ipaddr.js/-/ipaddr.js-1.9.1.tgz\",\r\n      \"integrity\": \"sha512-0KI/607xoxSToH7GjN1FfSbLoU0+btTicjsQSWQlh/hZykN8KpmMf7uYwPW3R+akZ6R/w18ZlXSHBYXiYUPO3g==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.10\"\r\n      }\r\n    },\r\n    \"node_modules/is-fullwidth-code-point\": {\r\n      \"version\": \"3.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz\",\r\n      \"integrity\": \"sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=8\"\r\n      }\r\n    },\r\n    \"node_modules/is-promise\": {\r\n      \"version\": \"2.2.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/is-promise/-/is-promise-2.2.2.tgz\",\r\n      \"integrity\": \"sha512-+lP4/6lKUBfQjZ2pdxThZvLUAafmZb8OAxFb8XXtiQmS35INgr85hdOGoEs124ez1FCnZJt6jau/T+alh58QFQ==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/isarray\": {\r\n      \"version\": \"0.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/isarray/-/isarray-0.0.1.tgz\",\r\n      \"integrity\": \"sha512-D2S+3GLxWH+uhrNEcoh/fnmYeP8E8/zHl644d/jdA0g2uyXvy3sb0qxotE+ne0LtccHknQzWwZEzhak7oJ0COQ==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/jju\": {\r\n      \"version\": \"1.4.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/jju/-/jju-1.4.0.tgz\",\r\n      \"integrity\": \"sha512-8wb9Yw966OSxApiCt0K3yNJL8pnNeIv+OEq2YMidz4FKP6nonSRoOXc80iXY4JaN2FC11B9qsNmDsm+ZOfMROA==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/json-parse-helpfulerror\": {\r\n      \"version\": \"1.0.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/json-parse-helpfulerror/-/json-parse-helpfulerror-1.0.3.tgz\",\r\n      \"integrity\": \"sha512-XgP0FGR77+QhUxjXkwOMkC94k3WtqEBfcnjWqhRd82qTat4SWKRE+9kUnynz/shm3I4ea2+qISvTIeGTNU7kJg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"jju\": \"^1.1.0\"\r\n      }\r\n    },\r\n    \"node_modules/json-server\": {\r\n      \"version\": \"0.17.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/json-server/-/json-server-0.17.4.tgz\",\r\n      \"integrity\": \"sha512-bGBb0WtFuAKbgI7JV3A864irWnMZSvBYRJbohaOuatHwKSRFUfqtQlrYMrB6WbalXy/cJabyjlb7JkHli6dYjQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"body-parser\": \"^1.19.0\",\r\n        \"chalk\": \"^4.1.2\",\r\n        \"compression\": \"^1.7.4\",\r\n        \"connect-pause\": \"^0.1.1\",\r\n        \"cors\": \"^2.8.5\",\r\n        \"errorhandler\": \"^1.5.1\",\r\n        \"express\": \"^4.17.1\",\r\n        \"express-urlrewrite\": \"^1.4.0\",\r\n        \"json-parse-helpfulerror\": \"^1.0.3\",\r\n        \"lodash\": \"^4.17.21\",\r\n        \"lodash-id\": \"^0.14.1\",\r\n        \"lowdb\": \"^1.0.0\",\r\n        \"method-override\": \"^3.0.0\",\r\n        \"morgan\": \"^1.10.0\",\r\n        \"nanoid\": \"^3.1.23\",\r\n        \"please-upgrade-node\": \"^3.2.0\",\r\n        \"pluralize\": \"^8.0.0\",\r\n        \"server-destroy\": \"^1.0.1\",\r\n        \"yargs\": \"^17.0.1\"\r\n      },\r\n      \"bin\": {\r\n        \"json-server\": \"lib/cli/bin.js\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=12\"\r\n      }\r\n    },\r\n    \"node_modules/lodash\": {\r\n      \"version\": \"4.17.21\",\r\n      \"resolved\": \"https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz\",\r\n      \"integrity\": \"sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/lodash-id\": {\r\n      \"version\": \"0.14.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/lodash-id/-/lodash-id-0.14.1.tgz\",\r\n      \"integrity\": \"sha512-ikQPBTiq/d5m6dfKQlFdIXFzvThPi2Be9/AHxktOnDSfSxE1j9ICbBT5Elk1ke7HSTgM38LHTpmJovo9/klnLg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 4\"\r\n      }\r\n    },\r\n    \"node_modules/lowdb\": {\r\n      \"version\": \"1.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/lowdb/-/lowdb-1.0.0.tgz\",\r\n      \"integrity\": \"sha512-2+x8esE/Wb9SQ1F9IHaYWfsC9FIecLOPrK4g17FGEayjUWH172H6nwicRovGvSE2CPZouc2MCIqCI7h9d+GftQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"graceful-fs\": \"^4.1.3\",\r\n        \"is-promise\": \"^2.1.0\",\r\n        \"lodash\": \"4\",\r\n        \"pify\": \"^3.0.0\",\r\n        \"steno\": \"^0.4.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=4\"\r\n      }\r\n    },\r\n    \"node_modules/media-typer\": {\r\n      \"version\": \"0.3.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/media-typer/-/media-typer-0.3.0.tgz\",\r\n      \"integrity\": \"sha512-dq+qelQ9akHpcOl/gUVRTxVIOkAJ1wR3QAvb4RsVjS8oVoFjDGTc679wJYmUmknUF5HwMLOgb5O+a3KxfWapPQ==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/merge-descriptors\": {\r\n      \"version\": \"1.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/merge-descriptors/-/merge-descriptors-1.0.1.tgz\",\r\n      \"integrity\": \"sha512-cCi6g3/Zr1iqQi6ySbseM1Xvooa98N0w31jzUYrXPX2xqObmFGHJ0tQ5u74H3mVh7wLouTseZyYIq39g8cNp1w==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/method-override\": {\r\n      \"version\": \"3.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/method-override/-/method-override-3.0.0.tgz\",\r\n      \"integrity\": \"sha512-IJ2NNN/mSl9w3kzWB92rcdHpz+HjkxhDJWNDBqSlas+zQdP8wBiJzITPg08M/k2uVvMow7Sk41atndNtt/PHSA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"debug\": \"3.1.0\",\r\n        \"methods\": \"~1.1.2\",\r\n        \"parseurl\": \"~1.3.2\",\r\n        \"vary\": \"~1.1.2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.10\"\r\n      }\r\n    },\r\n    \"node_modules/method-override/node_modules/debug\": {\r\n      \"version\": \"3.1.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\r\n      \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"ms\": \"2.0.0\"\r\n      }\r\n    },\r\n    \"node_modules/methods\": {\r\n      \"version\": \"1.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/methods/-/methods-1.1.2.tgz\",\r\n      \"integrity\": \"sha512-iclAHeNqNm68zFtnZ0e+1L2yUIdvzNoauKU4WBA3VvH/vPFieF7qfRlwUZU+DA9P9bPXIS90ulxoUoCH23sV2w==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/mime\": {\r\n      \"version\": \"1.6.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/mime/-/mime-1.6.0.tgz\",\r\n      \"integrity\": \"sha512-x0Vn8spI+wuJ1O6S7gnbaQg8Pxh4NNHb7KSINmEWKiPE4RKOplvijn+NkmYmmRgP68mc70j2EbeTFRsrswaQeg==\",\r\n      \"dev\": true,\r\n      \"bin\": {\r\n        \"mime\": \"cli.js\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=4\"\r\n      }\r\n    },\r\n    \"node_modules/mime-db\": {\r\n      \"version\": \"1.52.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz\",\r\n      \"integrity\": \"sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/mime-types\": {\r\n      \"version\": \"2.1.35\",\r\n      \"resolved\": \"https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz\",\r\n      \"integrity\": \"sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"mime-db\": \"1.52.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/morgan\": {\r\n      \"version\": \"1.10.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/morgan/-/morgan-1.10.0.tgz\",\r\n      \"integrity\": \"sha512-AbegBVI4sh6El+1gNwvD5YIck7nSA36weD7xvIxG4in80j/UoK8AEGaWnnz8v1GxonMCltmlNs5ZKbGvl9b1XQ==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"basic-auth\": \"~2.0.1\",\r\n        \"debug\": \"2.6.9\",\r\n        \"depd\": \"~2.0.0\",\r\n        \"on-finished\": \"~2.3.0\",\r\n        \"on-headers\": \"~1.0.2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8.0\"\r\n      }\r\n    },\r\n    \"node_modules/morgan/node_modules/on-finished\": {\r\n      \"version\": \"2.3.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz\",\r\n      \"integrity\": \"sha512-ikqdkGAAyf/X/gPhXGvfgAytDZtDbr+bkNUJ0N9h5MI/dmdgCs3l6hoHrcUv41sRKew3jIwrp4qQDXiK99Utww==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"ee-first\": \"1.1.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/ms\": {\r\n      \"version\": \"2.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.0.0.tgz\",\r\n      \"integrity\": \"sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/nanoid\": {\r\n      \"version\": \"3.3.7\",\r\n      \"resolved\": \"https://registry.npmjs.org/nanoid/-/nanoid-3.3.7.tgz\",\r\n      \"integrity\": \"sha512-eSRppjcPIatRIMC1U6UngP8XFcz8MQWGQdt1MTBQ7NaAmvXDfvNxbvWV3x2y6CdEUciCSsDHDQZbhYaB8QEo2g==\",\r\n      \"dev\": true,\r\n      \"funding\": [\r\n        {\r\n          \"type\": \"github\",\r\n          \"url\": \"https://github.com/sponsors/ai\"\r\n        }\r\n      ],\r\n      \"bin\": {\r\n        \"nanoid\": \"bin/nanoid.cjs\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \"^10 || ^12 || ^13.7 || ^14 || >=15.0.1\"\r\n      }\r\n    },\r\n    \"node_modules/negotiator\": {\r\n      \"version\": \"0.6.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/negotiator/-/negotiator-0.6.3.tgz\",\r\n      \"integrity\": \"sha512-+EUsqGPLsM+j/zdChZjsnX51g4XrHFOIXwfnCVPGlQk/k5giakcKsuxCObBRu6DSm9opw/O6slWbJdghQM4bBg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/object-assign\": {\r\n      \"version\": \"4.1.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz\",\r\n      \"integrity\": \"sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=0.10.0\"\r\n      }\r\n    },\r\n    \"node_modules/object-inspect\": {\r\n      \"version\": \"1.13.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/object-inspect/-/object-inspect-1.13.1.tgz\",\r\n      \"integrity\": \"sha512-5qoj1RUiKOMsCCNLV1CBiPYE10sziTsnmNxkAI/rZhiD63CF7IqdFGC/XzjWjpSgLf0LxXX3bDFIh0E18f6UhQ==\",\r\n      \"dev\": true,\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/on-finished\": {\r\n      \"version\": \"2.4.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/on-finished/-/on-finished-2.4.1.tgz\",\r\n      \"integrity\": \"sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"ee-first\": \"1.1.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/on-headers\": {\r\n      \"version\": \"1.0.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/on-headers/-/on-headers-1.0.2.tgz\",\r\n      \"integrity\": \"sha512-pZAE+FJLoyITytdqK0U5s+FIpjN0JP3OzFi/u8Rx+EV5/W+JTWGXG8xFzevE7AjBfDqHv/8vL8qQsIhHnqRkrA==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/parseurl\": {\r\n      \"version\": \"1.3.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/parseurl/-/parseurl-1.3.3.tgz\",\r\n      \"integrity\": \"sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/path-to-regexp\": {\r\n      \"version\": \"0.1.7\",\r\n      \"resolved\": \"https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-0.1.7.tgz\",\r\n      \"integrity\": \"sha512-5DFkuoqlv1uYQKxy8omFBeJPQcdoE07Kv2sferDCrAq1ohOU+MSDswDIbnx3YAM60qIOnYa53wBhXW0EbMonrQ==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/pify\": {\r\n      \"version\": \"3.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/pify/-/pify-3.0.0.tgz\",\r\n      \"integrity\": \"sha512-C3FsVNH1udSEX48gGX1xfvwTWfsYWj5U+8/uK15BGzIGrKoUpghX8hWZwa/OFnakBiiVNmBvemTJR5mcy7iPcg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=4\"\r\n      }\r\n    },\r\n    \"node_modules/please-upgrade-node\": {\r\n      \"version\": \"3.2.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/please-upgrade-node/-/please-upgrade-node-3.2.0.tgz\",\r\n      \"integrity\": \"sha512-gQR3WpIgNIKwBMVLkpMUeR3e1/E1y42bqDQZfql+kDeXd8COYfM8PQA4X6y7a8u9Ua9FHmsrrmirW2vHs45hWg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"semver-compare\": \"^1.0.0\"\r\n      }\r\n    },\r\n    \"node_modules/pluralize\": {\r\n      \"version\": \"8.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/pluralize/-/pluralize-8.0.0.tgz\",\r\n      \"integrity\": \"sha512-Nc3IT5yHzflTfbjgqWcCPpo7DaKy4FnpB0l/zCAW0Tc7jxAiuqSxHasntB3D7887LSrA93kDJ9IXovxJYxyLCA==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=4\"\r\n      }\r\n    },\r\n    \"node_modules/proxy-addr\": {\r\n      \"version\": \"2.0.7\",\r\n      \"resolved\": \"https://registry.npmjs.org/proxy-addr/-/proxy-addr-2.0.7.tgz\",\r\n      \"integrity\": \"sha512-llQsMLSUDUPT44jdrU/O37qlnifitDP+ZwrmmZcoSKyLKvtZxpyV0n2/bD/N4tBAAZ/gJEdZU7KMraoK1+XYAg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"forwarded\": \"0.2.0\",\r\n        \"ipaddr.js\": \"1.9.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.10\"\r\n      }\r\n    },\r\n    \"node_modules/qs\": {\r\n      \"version\": \"6.11.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/qs/-/qs-6.11.0.tgz\",\r\n      \"integrity\": \"sha512-MvjoMCJwEarSbUYk5O+nmoSzSutSsTwF85zcHPQ9OrlFoZOYIjaqBAJIqIXjptyD5vThxGq52Xu/MaJzRkIk4Q==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"side-channel\": \"^1.0.4\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=0.6\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/range-parser\": {\r\n      \"version\": \"1.2.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/range-parser/-/range-parser-1.2.1.tgz\",\r\n      \"integrity\": \"sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/raw-body\": {\r\n      \"version\": \"2.5.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/raw-body/-/raw-body-2.5.2.tgz\",\r\n      \"integrity\": \"sha512-8zGqypfENjCIqGhgXToC8aB2r7YrBX+AQAfIPs/Mlk+BtPTztOvTS01NRW/3Eh60J+a48lt8qsCzirQ6loCVfA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"bytes\": \"3.1.2\",\r\n        \"http-errors\": \"2.0.0\",\r\n        \"iconv-lite\": \"0.4.24\",\r\n        \"unpipe\": \"1.0.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/require-directory\": {\r\n      \"version\": \"2.1.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz\",\r\n      \"integrity\": \"sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=0.10.0\"\r\n      }\r\n    },\r\n    \"node_modules/safe-buffer\": {\r\n      \"version\": \"5.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz\",\r\n      \"integrity\": \"sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/safer-buffer\": {\r\n      \"version\": \"2.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz\",\r\n      \"integrity\": \"sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/semver-compare\": {\r\n      \"version\": \"1.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/semver-compare/-/semver-compare-1.0.0.tgz\",\r\n      \"integrity\": \"sha512-YM3/ITh2MJ5MtzaM429anh+x2jiLVjqILF4m4oyQB18W7Ggea7BfqdH/wGMK7dDiMghv/6WG7znWMwUDzJiXow==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/send\": {\r\n      \"version\": \"0.18.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/send/-/send-0.18.0.tgz\",\r\n      \"integrity\": \"sha512-qqWzuOjSFOuqPjFe4NOsMLafToQQwBSOEpS+FwEt3A2V3vKubTquT3vmLTQpFgMXp8AlFWFuP1qKaJZOtPpVXg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"debug\": \"2.6.9\",\r\n        \"depd\": \"2.0.0\",\r\n        \"destroy\": \"1.2.0\",\r\n        \"encodeurl\": \"~1.0.2\",\r\n        \"escape-html\": \"~1.0.3\",\r\n        \"etag\": \"~1.8.1\",\r\n        \"fresh\": \"0.5.2\",\r\n        \"http-errors\": \"2.0.0\",\r\n        \"mime\": \"1.6.0\",\r\n        \"ms\": \"2.1.3\",\r\n        \"on-finished\": \"2.4.1\",\r\n        \"range-parser\": \"~1.2.1\",\r\n        \"statuses\": \"2.0.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8.0\"\r\n      }\r\n    },\r\n    \"node_modules/send/node_modules/ms\": {\r\n      \"version\": \"2.1.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.1.3.tgz\",\r\n      \"integrity\": \"sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/serve-static\": {\r\n      \"version\": \"1.15.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/serve-static/-/serve-static-1.15.0.tgz\",\r\n      \"integrity\": \"sha512-XGuRDNjXUijsUL0vl6nSD7cwURuzEgglbOaFuZM9g3kwDXOWVTck0jLzjPzGD+TazWbboZYu52/9/XPdUgne9g==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"encodeurl\": \"~1.0.2\",\r\n        \"escape-html\": \"~1.0.3\",\r\n        \"parseurl\": \"~1.3.3\",\r\n        \"send\": \"0.18.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.8.0\"\r\n      }\r\n    },\r\n    \"node_modules/server-destroy\": {\r\n      \"version\": \"1.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/server-destroy/-/server-destroy-1.0.1.tgz\",\r\n      \"integrity\": \"sha512-rb+9B5YBIEzYcD6x2VKidaa+cqYBJQKnU4oe4E3ANwRRN56yk/ua1YCJT1n21NTS8w6CcOclAKNP3PhdCXKYtQ==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/set-function-length\": {\r\n      \"version\": \"1.2.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/set-function-length/-/set-function-length-1.2.2.tgz\",\r\n      \"integrity\": \"sha512-pgRc4hJ4/sNjWCSS9AmnS40x3bNMDTknHgL5UaMBTMyJnU90EgWh1Rz+MC9eFu4BuN/UwZjKQuY/1v3rM7HMfg==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"define-data-property\": \"^1.1.4\",\r\n        \"es-errors\": \"^1.3.0\",\r\n        \"function-bind\": \"^1.1.2\",\r\n        \"get-intrinsic\": \"^1.2.4\",\r\n        \"gopd\": \"^1.0.1\",\r\n        \"has-property-descriptors\": \"^1.0.2\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      }\r\n    },\r\n    \"node_modules/setprototypeof\": {\r\n      \"version\": \"1.2.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.2.0.tgz\",\r\n      \"integrity\": \"sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==\",\r\n      \"dev\": true\r\n    },\r\n    \"node_modules/side-channel\": {\r\n      \"version\": \"1.0.6\",\r\n      \"resolved\": \"https://registry.npmjs.org/side-channel/-/side-channel-1.0.6.tgz\",\r\n      \"integrity\": \"sha512-fDW/EZ6Q9RiO8eFG8Hj+7u/oW+XrPTIChwCOM2+th2A6OblDtYYIpve9m+KvI9Z4C9qSEXlaGR6bTEYHReuglA==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"call-bind\": \"^1.0.7\",\r\n        \"es-errors\": \"^1.3.0\",\r\n        \"get-intrinsic\": \"^1.2.4\",\r\n        \"object-inspect\": \"^1.13.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.4\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/sponsors/ljharb\"\r\n      }\r\n    },\r\n    \"node_modules/statuses\": {\r\n      \"version\": \"2.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-2.0.1.tgz\",\r\n      \"integrity\": \"sha512-RwNA9Z/7PrK06rYLIzFMlaF+l73iwpzsqRIFgbMLbTcLD6cOao82TaWefPXQvB2fOC4AjuYSEndS7N/mTCbkdQ==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/steno\": {\r\n      \"version\": \"0.4.4\",\r\n      \"resolved\": \"https://registry.npmjs.org/steno/-/steno-0.4.4.tgz\",\r\n      \"integrity\": \"sha512-EEHMVYHNXFHfGtgjNITnka0aHhiAlo93F7z2/Pwd+g0teG9CnM3JIINM7hVVB5/rhw9voufD7Wukwgtw2uqh6w==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"graceful-fs\": \"^4.1.3\"\r\n      }\r\n    },\r\n    \"node_modules/string-width\": {\r\n      \"version\": \"4.2.3\",\r\n      \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz\",\r\n      \"integrity\": \"sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"emoji-regex\": \"^8.0.0\",\r\n        \"is-fullwidth-code-point\": \"^3.0.0\",\r\n        \"strip-ansi\": \"^6.0.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=8\"\r\n      }\r\n    },\r\n    \"node_modules/strip-ansi\": {\r\n      \"version\": \"6.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz\",\r\n      \"integrity\": \"sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"ansi-regex\": \"^5.0.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=8\"\r\n      }\r\n    },\r\n    \"node_modules/supports-color\": {\r\n      \"version\": \"7.2.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz\",\r\n      \"integrity\": \"sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"has-flag\": \"^4.0.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=8\"\r\n      }\r\n    },\r\n    \"node_modules/toidentifier\": {\r\n      \"version\": \"1.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/toidentifier/-/toidentifier-1.0.1.tgz\",\r\n      \"integrity\": \"sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=0.6\"\r\n      }\r\n    },\r\n    \"node_modules/type-is\": {\r\n      \"version\": \"1.6.18\",\r\n      \"resolved\": \"https://registry.npmjs.org/type-is/-/type-is-1.6.18.tgz\",\r\n      \"integrity\": \"sha512-TkRKr9sUTxEH8MdfuCSP7VizJyzRNMjj2J2do2Jr3Kym598JVdEksuzPQCnlFPW4ky9Q+iA+ma9BGm06XQBy8g==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"media-typer\": \"0.3.0\",\r\n        \"mime-types\": \"~2.1.24\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">= 0.6\"\r\n      }\r\n    },\r\n    \"node_modules/unpipe\": {\r\n      \"version\": \"1.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz\",\r\n      \"integrity\": \"sha512-pjy2bYhSsufwWlKwPc+l3cN7+wuJlK6uz0YdJEOlQDbl6jo/YlPi4mb8agUkVC8BF7V8NuzeyPNqRksA3hztKQ==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/utils-merge\": {\r\n      \"version\": \"1.0.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz\",\r\n      \"integrity\": \"sha512-pMZTvIkT1d+TFGvDOqodOclx0QWkkgi6Tdoa8gC8ffGAAqz9pzPTZWAybbsHHoED/ztMtkv/VoYTYyShUn81hA==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.4.0\"\r\n      }\r\n    },\r\n    \"node_modules/vary\": {\r\n      \"version\": \"1.1.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/vary/-/vary-1.1.2.tgz\",\r\n      \"integrity\": \"sha512-BNGbWLfd0eUPabhkXUVm0j8uuvREyTh5ovRa/dyow/BqAbZJyC+5fU+IzQOzmAKzYqYRAISoRhdQr3eIZ/PXqg==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">= 0.8\"\r\n      }\r\n    },\r\n    \"node_modules/wrap-ansi\": {\r\n      \"version\": \"7.0.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz\",\r\n      \"integrity\": \"sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"ansi-styles\": \"^4.0.0\",\r\n        \"string-width\": \"^4.1.0\",\r\n        \"strip-ansi\": \"^6.0.0\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=10\"\r\n      },\r\n      \"funding\": {\r\n        \"url\": \"https://github.com/chalk/wrap-ansi?sponsor=1\"\r\n      }\r\n    },\r\n    \"node_modules/y18n\": {\r\n      \"version\": \"5.0.8\",\r\n      \"resolved\": \"https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz\",\r\n      \"integrity\": \"sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=10\"\r\n      }\r\n    },\r\n    \"node_modules/yargs\": {\r\n      \"version\": \"17.7.2\",\r\n      \"resolved\": \"https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz\",\r\n      \"integrity\": \"sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==\",\r\n      \"dev\": true,\r\n      \"dependencies\": {\r\n        \"cliui\": \"^8.0.1\",\r\n        \"escalade\": \"^3.1.1\",\r\n        \"get-caller-file\": \"^2.0.5\",\r\n        \"require-directory\": \"^2.1.1\",\r\n        \"string-width\": \"^4.2.3\",\r\n        \"y18n\": \"^5.0.5\",\r\n        \"yargs-parser\": \"^21.1.1\"\r\n      },\r\n      \"engines\": {\r\n        \"node\": \">=12\"\r\n      }\r\n    },\r\n    \"node_modules/yargs-parser\": {\r\n      \"version\": \"21.1.1\",\r\n      \"resolved\": \"https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz\",\r\n      \"integrity\": \"sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==\",\r\n      \"dev\": true,\r\n      \"engines\": {\r\n        \"node\": \">=12\"\r\n      }\r\n    }\r\n  }\r\n}\r\n"
    }
  }
}